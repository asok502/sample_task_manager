var aw=Object.defineProperty,cw=Object.defineProperties;var lw=Object.getOwnPropertyDescriptors;var Ih=Object.getOwnPropertySymbols,uw=Object.getPrototypeOf,dw=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable,hw=Reflect.get;var Sh=(e,t,n)=>t in e?aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})dw.call(t,n)&&Sh(e,n,t[n]);if(Ih)for(var n of Ih(t))fw.call(t,n)&&Sh(e,n,t[n]);return e},U=(e,t)=>cw(e,lw(t));var He=(e,t,n)=>hw(uw(e),n,t);var f=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(l){o(l)}},s=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())});var ke=null,as=!1,sl=1,pw=null,Le=Symbol("SIGNAL");function N(e){let t=ke;return ke=e,t}function ls(){return ke}var No={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oo(e){if(as)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(e);let t=ke.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=ke.recomputing;if(r&&(n=t!==void 0?t.nextProducer:ke.producers,n!==void 0&&n.producer===e)){ke.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===ke&&(!r||mw(o,ke)))return;let i=Tr(ke),s={producer:e,consumer:ke,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};ke.producersTail=s,t!==void 0?t.nextProducer=s:ke.producers=s,i&&xh(e,s)}function Dh(){sl++}function al(e){if(!(Tr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===sl)){if(!e.producerMustRecompute(e)&&!ds(e)){il(e);return}e.producerRecomputeValue(e),il(e)}}function cl(e){if(e.consumers===void 0)return;let t=as;as=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||gw(r)}}finally{as=t}}function ll(){return ke?.consumerAllowSignalWrites!==!1}function gw(e){e.dirty=!0,cl(e),e.consumerMarkedDirty?.(e)}function il(e){e.dirty=!1,e.lastCleanEpoch=sl}function ko(e){return e&&Th(e),N(e)}function Th(e){e.producersTail=void 0,e.recomputing=!0}function us(e,t){N(t),e&&Mh(e)}function Mh(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Tr(e))do n=ul(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function ds(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(al(n),r!==n.version))return!0}return!1}function Po(e){if(Tr(e)){let t=e.producers;for(;t!==void 0;)t=ul(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function xh(e,t){let n=e.consumersTail,r=Tr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)xh(o.producer,o)}function ul(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Tr(t)){let i=t.producers;for(;i!==void 0;)i=ul(i)}return n}function Tr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function dl(e){pw?.(e)}function mw(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function fl(e,t){return Object.is(e,t)}function fs(e,t){let n=Object.create(vw);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(al(n),Oo(n),n.value===cs)throw n.error;return n.value};return r[Le]=n,dl(n),r}var rl=Symbol("UNSET"),ol=Symbol("COMPUTING"),cs=Symbol("ERRORED"),vw=U(w({},No),{value:rl,dirty:!0,error:null,equal:fl,kind:"computed",producerMustRecompute(e){return e.value===rl||e.value===ol},producerRecomputeValue(e){if(e.value===ol)throw new Error("");let t=e.value;e.value=ol;let n=ko(e),r,o=!1;try{r=e.computation(),N(null),o=t!==rl&&t!==cs&&r!==cs&&e.equal(t,r)}catch(i){r=cs,e.error=i}finally{us(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function yw(){throw new Error}var Ah=yw;function Rh(e){Ah(e)}function hl(e){Ah=e}var _w=null;function pl(e,t){let n=Object.create(hs);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Nh(n);return r[Le]=n,dl(n),[r,s=>Lo(n,s),s=>Oh(n,s)]}function Nh(e){return Oo(e),e.value}function Lo(e,t){ll()||Rh(e),e.equal(e.value,t)||(e.value=t,ww(e))}function Oh(e,t){ll()||Rh(e),Lo(e,t(e.value))}var hs=U(w({},No),{equal:fl,value:void 0,kind:"signal"});function ww(e){e.version++,Dh(),cl(e),_w?.(e)}function gl(e){let t=N(null);try{return e()}finally{N(t)}}function P(e){return typeof e=="function"}function Mr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ps=Mr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var me=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(i){t=i instanceof ps?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{kh(i)}catch(s){t=t??[],s instanceof ps?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ps(t)}}add(t){var n;if(t&&t!==this)if(this.closed)kh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Fo(n,t)}remove(t){let{_finalizers:n}=this;n&&Fo(n,t),t instanceof e&&t._removeParent(this)}};me.EMPTY=(()=>{let e=new me;return e.closed=!0,e})();var ml=me.EMPTY;function gs(e){return e instanceof me||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function kh(e){P(e)?e():e.unsubscribe()}var gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xr={setTimeout(e,t,...n){let{delegate:r}=xr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=xr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ms(e){xr.setTimeout(()=>{let{onUnhandledError:t}=gt;if(t)t(e);else throw e})}function jo(){}var Ph=vl("C",void 0,void 0);function Lh(e){return vl("E",void 0,e)}function Fh(e){return vl("N",e,void 0)}function vl(e,t,n){return{kind:e,value:t,error:n}}var kn=null;function Ar(e){if(gt.useDeprecatedSynchronousErrorHandling){let t=!kn;if(t&&(kn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=kn;if(kn=null,n)throw r}}else e()}function jh(e){gt.useDeprecatedSynchronousErrorHandling&&kn&&(kn.errorThrown=!0,kn.error=e)}var Pn=class extends me{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,gs(t)&&t.add(this)):this.destination=Cw}static create(t,n,r){return new Rr(t,n,r)}next(t){this.isStopped?_l(Fh(t),this):this._next(t)}error(t){this.isStopped?_l(Lh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_l(Ph,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bw=Function.prototype.bind;function yl(e,t){return bw.call(e,t)}var wl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){vs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){vs(r)}else vs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){vs(n)}}},Rr=class extends Pn{constructor(t,n,r){super();let o;if(P(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&gt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&yl(t.next,i),error:t.error&&yl(t.error,i),complete:t.complete&&yl(t.complete,i)}):o=t}this.destination=new wl(o)}};function vs(e){gt.useDeprecatedSynchronousErrorHandling?jh(e):ms(e)}function Ew(e){throw e}function _l(e,t){let{onStoppedNotification:n}=gt;n&&xr.setTimeout(()=>n(e,t))}var Cw={closed:!0,next:jo,error:Ew,complete:jo};var Nr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(e){return e}function bl(...e){return El(e)}function El(e){return e.length===0?mt:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var z=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Sw(n)?n:new Rr(n,r,o);return Ar(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Vh(r),new r((o,i)=>{let s=new Rr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Nr](){return this}pipe(...n){return El(n)(this)}toPromise(n){return n=Vh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Vh(e){var t;return(t=e??gt.Promise)!==null&&t!==void 0?t:Promise}function Iw(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function Sw(e){return e&&e instanceof Pn||Iw(e)&&gs(e)}function Dw(e){return P(e?.lift)}function K(e){return t=>{if(Dw(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,t,n,r,o){return new Cl(e,t,n,r,o)}var Cl=class extends Pn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Uh=Mr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class e extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ys(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Uh}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ml:(this.currentObservers=null,i.push(n),new me(()=>{this.currentObservers=null,Fo(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return e.create=(t,n)=>new ys(t,n),e})(),ys=class extends _e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ml}};var Se=class extends _e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Be=new z(e=>e.complete());function $h(e){return e&&P(e.schedule)}function Hh(e){return e[e.length-1]}function _s(e){return P(Hh(e))?e.pop():void 0}function fn(e){return $h(Hh(e))?e.pop():void 0}function Fn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ws(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Bh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(e){return this instanceof Ln?(this.v=e,this):new Ln(e)}function zh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(o[h]=function(m){return new Promise(function(v,y){i.push([h,m,v,y])>1||c(h,m)})},g&&(o[h]=g(o[h])))}function c(h,g){try{l(r[h](g))}catch(m){p(i[0][3],m)}}function l(h){h.value instanceof Ln?Promise.resolve(h.value.v).then(u,d):p(i[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function p(h,g){h(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function qh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bh=="function"?Bh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var bs=e=>e&&typeof e.length=="number"&&typeof e!="function";function Es(e){return P(e?.then)}function Cs(e){return P(e[Nr])}function Is(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function Ss(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Tw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ds=Tw();function Ts(e){return P(e?.[Ds])}function Ms(e){return zh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Ln(n.read());if(o)return yield Ln(void 0);yield yield Ln(r)}}finally{n.releaseLock()}})}function xs(e){return P(e?.getReader)}function de(e){if(e instanceof z)return e;if(e!=null){if(Cs(e))return Mw(e);if(bs(e))return xw(e);if(Es(e))return Aw(e);if(Is(e))return Gh(e);if(Ts(e))return Rw(e);if(xs(e))return Nw(e)}throw Ss(e)}function Mw(e){return new z(t=>{let n=e[Nr]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xw(e){return new z(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Aw(e){return new z(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ms)})}function Rw(e){return new z(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Gh(e){return new z(t=>{Ow(e,t).catch(n=>t.error(n))})}function Nw(e){return Gh(Ms(e))}function Ow(e,t){var n,r,o,i;return ws(this,void 0,void 0,function*(){try{for(n=qh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function ze(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function As(e,t=0){return K((n,r)=>{n.subscribe(Q(r,o=>ze(r,e,()=>r.next(o),t),()=>ze(r,e,()=>r.complete(),t),o=>ze(r,e,()=>r.error(o),t)))})}function Rs(e,t=0){return K((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Wh(e,t){return de(e).pipe(Rs(t),As(t))}function Kh(e,t){return de(e).pipe(Rs(t),As(t))}function Qh(e,t){return new z(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Jh(e,t){return new z(n=>{let r;return ze(n,t,()=>{r=e[Ds](),ze(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>P(r?.return)&&r.return()})}function Ns(e,t){if(!e)throw new Error("Iterable cannot be null");return new z(n=>{ze(n,t,()=>{let r=e[Symbol.asyncIterator]();ze(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Yh(e,t){return Ns(Ms(e),t)}function Zh(e,t){if(e!=null){if(Cs(e))return Wh(e,t);if(bs(e))return Qh(e,t);if(Es(e))return Kh(e,t);if(Is(e))return Ns(e,t);if(Ts(e))return Jh(e,t);if(xs(e))return Yh(e,t)}throw Ss(e)}function fe(e,t){return t?Zh(e,t):de(e)}function H(...e){let t=fn(e);return fe(e,t)}function Il(e,t){let n=P(e)?e:()=>e,r=o=>o.error(n());return new z(t?o=>t.schedule(r,0,o):r)}function Os(e){return!!e&&(e instanceof z||P(e.lift)&&P(e.subscribe))}var jn=Mr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(e,t){return K((n,r)=>{let o=0;n.subscribe(Q(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:kw}=Array;function Pw(e,t){return kw(t)?e(...t):e(t)}function ks(e){return ee(t=>Pw(e,t))}var{isArray:Lw}=Array,{getPrototypeOf:Fw,prototype:jw,keys:Vw}=Object;function Ps(e){if(e.length===1){let t=e[0];if(Lw(t))return{args:t,keys:null};if(Uw(t)){let n=Vw(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Uw(e){return e&&typeof e=="object"&&Fw(e)===jw}function Ls(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Sl(...e){let t=fn(e),n=_s(e),{args:r,keys:o}=Ps(e);if(r.length===0)return fe([],t);let i=new z($w(r,t,o?s=>Ls(o,s):mt));return n?i.pipe(ks(n)):i}function $w(e,t,n=mt){return r=>{Xh(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Xh(t,()=>{let l=fe(e[c],t),u=!1;l.subscribe(Q(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Xh(e,t,n){e?ze(n,e,t):t()}function ep(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{i&&t.next(m),l++;let v=!1;de(n(m,u++)).subscribe(Q(t,y=>{o?.(y),i?h(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let y=c.shift();s?ze(t,s,()=>g(y)):g(y)}p()}catch(y){t.error(y)}}))};return e.subscribe(Q(t,h,()=>{d=!0,p()})),()=>{a?.()}}function Fe(e,t,n=1/0){return P(t)?Fe((r,o)=>ee((i,s)=>t(r,i,o,s))(de(e(r,o))),n):(typeof t=="number"&&(n=t),K((r,o)=>ep(r,o,e,n)))}function tp(e=1/0){return Fe(mt,e)}function np(){return tp(1)}function Or(...e){return np()(fe(e,fn(e)))}function Vo(e){return new z(t=>{de(e()).subscribe(t)})}function Dl(...e){let t=_s(e),{args:n,keys:r}=Ps(e),o=new z(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;de(n[u]).subscribe(Q(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?Ls(r,a):a),i.complete())}))}});return t?o.pipe(ks(t)):o}function xt(e,t){return K((n,r)=>{let o=0;n.subscribe(Q(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Uo(e){return K((t,n)=>{let r=null,o=!1,i;r=t.subscribe(Q(n,void 0,void 0,s=>{i=de(e(s,Uo(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Fs(e,t){return P(t)?Fe(e,t,1):Fe(e,1)}function Tl(e){return K((t,n)=>{let r=!1;t.subscribe(Q(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function zt(e){return e<=0?()=>Be:K((t,n)=>{let r=0;t.subscribe(Q(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rp(e=Hw){return K((t,n)=>{let r=!1;t.subscribe(Q(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Hw(){return new jn}function Ml(e){return K((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function qt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?xt((o,i)=>e(o,i,r)):mt,zt(1),n?Tl(t):rp(()=>new jn))}function js(e){return e<=0?()=>Be:K((t,n)=>{let r=[];t.subscribe(Q(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function xl(...e){let t=fn(e);return K((n,r)=>{(t?Or(e,n,t):Or(e,n)).subscribe(r)})}function At(e,t){return K((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(Q(r,c=>{o?.unsubscribe();let l=0,u=i++;de(e(c,u)).subscribe(o=Q(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function $o(e){return K((t,n)=>{de(e).subscribe(Q(n,()=>n.complete(),jo)),!n.closed&&t.subscribe(n)})}function je(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?K((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(Q(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var Al;function Vs(){return Al}function Rt(e){let t=Al;return Al=e,t}var op=Symbol("NotFound");function kr(e){return e===op||e?.name==="\u0275NotFound"}var ql="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(t,n){super(Wo(t,n)),this.code=t}};function qw(e){return`NG0${Math.abs(e)}`}function Wo(e,t){return`${qw(e)}${t?": "+t:""}`}function J(e){for(let t in e)if(e[t]===J)return t;throw Error("")}function lp(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Wt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Wt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function zs(e,t){return e?t?`${e} ${t}`:e:t||""}var Gw=J({__forward_ref__:J});function vt(e){return e.__forward_ref__=vt,e.toString=function(){return Wt(this())},e}function De(e){return Gl(e)?e():e}function Gl(e){return typeof e=="function"&&e.hasOwnProperty(Gw)&&e.__forward_ref__===vt}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ko(e){return Ww(e,qs)}function Wl(e){return Ko(e)!==null}function Ww(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Kw(e){let t=e?.[qs]??null;return t||null}function Nl(e){return e&&e.hasOwnProperty($s)?e[$s]:null}var qs=J({\u0275prov:J}),$s=J({\u0275inj:J}),D=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kl(e){return e&&!!e.\u0275providers}var Ql=J({\u0275cmp:J}),Jl=J({\u0275dir:J}),Yl=J({\u0275pipe:J}),Zl=J({\u0275mod:J}),Bo=J({\u0275fac:J}),qn=J({__NG_ELEMENT_ID__:J}),ip=J({__NG_ENV_ID__:J});function Xl(e){return Gs(e,"@NgModule"),e[Zl]||null}function gn(e){return Gs(e,"@Component"),e[Ql]||null}function eu(e){return Gs(e,"@Directive"),e[Jl]||null}function up(e){return Gs(e,"@Pipe"),e[Yl]||null}function Gs(e,t){if(e==null)throw new I(-919,!1)}function Ws(e){return typeof e=="string"?e:e==null?"":String(e)}function dp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ws(e)}var fp=J({ngErrorCode:J}),Qw=J({ngErrorMessage:J}),Jw=J({ngTokenPath:J});function tu(e,t){return hp("",-200,t)}function Ks(e,t){throw new I(-201,!1)}function hp(e,t,n){let r=new I(t,e);return r[fp]=t,r[Qw]=e,n&&(r[Jw]=n),r}function Yw(e){return e[fp]}var Ol;function pp(){return Ol}function Je(e){let t=Ol;return Ol=e,t}function nu(e,t,n){let r=Ko(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ks(e,"")}var Zw={},Vn=Zw,Xw="__NG_DI_FLAG__",kl=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Un(n)||0;try{return this.injector.get(t,r&8?null:Vn,r)}catch(o){if(kr(o))return o;throw o}}};function eb(e,t=0){let n=Vs();if(n===void 0)throw new I(-203,!1);if(n===null)return nu(e,void 0,t);{let r=tb(t),o=n.retrieve(e,r);if(kr(o)){if(r.optional)return null;throw o}return o}}function F(e,t=0){return(pp()||eb)(De(e),t)}function _(e,t){return F(e,Un(t))}function Un(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tb(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Pl(e){let t=[];for(let n=0;n<e.length;n++){let r=De(e[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=nb(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(F(o,i))}else t.push(F(r))}return t}function nb(e){return e[Xw]}function $n(e,t){let n=e.hasOwnProperty(Bo);return n?e[Bo]:null}function Qs(e,t){e.forEach(n=>Array.isArray(n)?Qs(n,t):t(n))}function ru(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gp(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Js(e,t,n){let r=Lr(e,t);return r>=0?e[r|1]=n:(r=~r,gp(e,r,t,n)),r}function Ys(e,t){let n=Lr(e,t);if(n>=0)return e[n|1]}function Lr(e,t){return rb(e,t,1)}function rb(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var mn={},Ve=[],vn=new D(""),ou=new D("",-1),iu=new D(""),zo=class{get(t,n=Vn){if(n===Vn){let o=hp("",-201);throw o.name="\u0275NotFound",o}return n}};function Fr(e){return{\u0275providers:e}}function mp(...e){return{\u0275providers:su(!0,e),\u0275fromNgModule:!0}}function su(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Qs(t,s=>{let a=s;Hs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&vp(o,i),n}function vp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];au(o,i=>{t(i,r)})}}function Hs(e,t,n,r){if(e=De(e),!e)return!1;let o=null,i=Nl(e),s=!i&&gn(e);if(!i&&!s){let c=e.ngModule;if(i=Nl(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Hs(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Qs(i.imports,u=>{Hs(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&vp(l,t)}if(!a){let l=$n(o)||(()=>new o);t({provide:o,useFactory:l,deps:Ve},o),t({provide:iu,useValue:o,multi:!0},o),t({provide:vn,useValue:()=>F(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;au(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function au(e,t){for(let n of e)Kl(n)&&(n=n.\u0275providers),Array.isArray(n)?au(n,t):t(n)}var ob=J({provide:String,useValue:J});function yp(e){return e!==null&&typeof e=="object"&&ob in e}function ib(e){return!!(e&&e.useExisting)}function sb(e){return!!(e&&e.useFactory)}function Hn(e){return typeof e=="function"}function _p(e){return!!e.useClass}var Jo=new D(""),Us={},sp={},Rl;function Yo(){return Rl===void 0&&(Rl=new zo),Rl}var Te=class{},Bn=class extends Te{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Fl(t,s=>this.processProvider(s)),this.records.set(ou,Pr(void 0,this)),o.has("environment")&&this.records.set(Te,Pr(void 0,this));let i=this.records.get(Jo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(iu,Ve,{self:!0}))}retrieve(t,n){let r=Un(n)||0;try{return this.get(t,Vn,r)}catch(o){if(kr(o))return o;throw o}}destroy(){Ho(this),this._destroyed=!0;let t=N(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(t)}}onDestroy(t){return Ho(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ho(this);let n=Rt(this),r=Je(void 0),o;try{return t()}finally{Rt(n),Je(r)}}get(t,n=Vn,r){if(Ho(this),t.hasOwnProperty(ip))return t[ip](this);let o=Un(r),i,s=Rt(this),a=Je(void 0);try{if(!(o&4)){let l=this.records.get(t);if(l===void 0){let u=db(t)&&Ko(t);u&&this.injectableDefInScope(u)?l=Pr(Ll(t),Us):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,o)}let c=o&2?Yo():this.parent;return n=o&8&&n===Vn?null:n,c.get(t,n)}catch(c){let l=Yw(c);throw l===-200||l===-201?new I(l,null):c}finally{Je(a),Rt(s)}}resolveInjectorInitializers(){let t=N(null),n=Rt(this),r=Je(void 0),o;try{let i=this.get(vn,Ve,{self:!0});for(let s of i)s()}finally{Rt(n),Je(r),N(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Wt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=De(t);let n=Hn(t)?t:De(t&&t.provide),r=cb(t);if(!Hn(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Pr(void 0,Us,!0),o.factory=()=>Pl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=N(null);try{if(n.value===sp)throw tu(Wt(t));return n.value===Us&&(n.value=sp,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ub(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=De(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ll(e){let t=Ko(e),n=t!==null?t.factory:$n(e);if(n!==null)return n;if(e instanceof D)throw new I(204,!1);if(e instanceof Function)return ab(e);throw new I(204,!1)}function ab(e){if(e.length>0)throw new I(204,!1);let n=Kw(e);return n!==null?()=>n.factory(e):()=>new e}function cb(e){if(yp(e))return Pr(void 0,e.useValue);{let t=cu(e);return Pr(t,Us)}}function cu(e,t,n){let r;if(Hn(e)){let o=De(e);return $n(o)||Ll(o)}else if(yp(e))r=()=>De(e.useValue);else if(sb(e))r=()=>e.useFactory(...Pl(e.deps||[]));else if(ib(e))r=(o,i)=>F(De(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=De(e&&(e.useClass||e.provide));if(lb(e))r=()=>new o(...Pl(e.deps));else return $n(o)||Ll(o)}return r}function Ho(e){if(e.destroyed)throw new I(205,!1)}function Pr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function lb(e){return!!e.deps}function ub(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function db(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Fl(e,t){for(let n of e)Array.isArray(n)?Fl(n,t):n&&Kl(n)?Fl(n.\u0275providers,t):t(n)}function Ue(e,t){let n;e instanceof Bn?(Ho(e),n=e):n=new kl(e);let r,o=Rt(n),i=Je(void 0);try{return t()}finally{Rt(o),Je(i)}}function wp(){return pp()!==void 0||Vs()!=null}var yt=0,O=1,k=2,we=3,rt=4,ot=5,jr=6,Vr=7,se=8,Kt=9,Qt=10,te=11,Ur=12,lu=13,Gn=14,qe=15,Wn=16,Kn=17,Qn=18,Jt=19,uu=20,Gt=21,Zs=22,Zo=23,Ye=24,Jn=25,Yn=26,Me=27,bp=1,du=6,yn=7,Xo=8,ei=9,le=10;function Ot(e){return Array.isArray(e)&&typeof e[bp]=="object"}function _t(e){return Array.isArray(e)&&e[bp]===!0}function fu(e){return(e.flags&4)!==0}function _n(e){return e.componentOffset>-1}function Xs(e){return(e.flags&1)===1}function kt(e){return!!e.template}function $r(e){return(e[k]&512)!==0}function Zn(e){return(e[k]&256)===256}var Ep="svg",Cp="math";function it(e){for(;Array.isArray(e);)e=e[yt];return e}function hu(e,t){return it(t[e])}function wt(e,t){return it(t[e.index])}function ti(e,t){return e.data[t]}function st(e,t){let n=t[e];return Ot(n)?n:n[yt]}function ea(e){return(e[k]&128)===128}function Ip(e){return _t(e[we])}function Pt(e,t){return t==null?null:e[t]}function pu(e){e[Kn]=0}function gu(e){e[k]&1024||(e[k]|=1024,ea(e)&&Hr(e))}function Sp(e,t){for(;e>0;)t=t[Gn],e--;return t}function ni(e){return!!(e[k]&9216||e[Ye]?.dirty)}function ta(e){e[Qt].changeDetectionScheduler?.notify(8),e[k]&64&&(e[k]|=1024),ni(e)&&Hr(e)}function Hr(e){e[Qt].changeDetectionScheduler?.notify(0);let t=hn(e);for(;t!==null&&!(t[k]&8192||(t[k]|=8192,!ea(t)));)t=hn(t)}function mu(e,t){if(Zn(e))throw new I(911,!1);e[Gt]===null&&(e[Gt]=[]),e[Gt].push(t)}function Dp(e,t){if(e[Gt]===null)return;let n=e[Gt].indexOf(t);n!==-1&&e[Gt].splice(n,1)}function hn(e){let t=e[we];return _t(t)?t[we]:t}function Tp(e){return e[Vr]??=[]}function Mp(e){return e.cleanup??=[]}var $={lFrame:$p(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jl=!1;function xp(){return $.lFrame.elementDepthCount}function Ap(){$.lFrame.elementDepthCount++}function vu(){$.lFrame.elementDepthCount--}function Rp(){return $.bindingsEnabled}function Np(){return $.skipHydrationRootTNode!==null}function yu(e){return $.skipHydrationRootTNode===e}function _u(){$.skipHydrationRootTNode=null}function B(){return $.lFrame.lView}function be(){return $.lFrame.tView}function Ge(e){return $.lFrame.contextLView=e,e[se]}function We(e){return $.lFrame.contextLView=null,e}function $e(){let e=wu();for(;e!==null&&e.type===64;)e=e.parent;return e}function wu(){return $.lFrame.currentTNode}function Op(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Br(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function bu(){return $.lFrame.isParent}function kp(){$.lFrame.isParent=!1}function Eu(){return jl}function Cu(e){let t=jl;return jl=e,t}function Pp(e){return $.lFrame.bindingIndex=e}function wn(){return $.lFrame.bindingIndex++}function Iu(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Lp(){return $.lFrame.inI18n}function Fp(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,na(t)}function jp(){return $.lFrame.currentDirectiveIndex}function na(e){$.lFrame.currentDirectiveIndex=e}function Vp(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Su(e){$.lFrame.currentQueryIndex=e}function fb(e){let t=e[O];return t.type===2?t.declTNode:t.type===1?e[ot]:null}function Du(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=fb(i),o===null||(i=i[Gn],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=$.lFrame=Up();return r.currentTNode=t,r.lView=e,!0}function ra(e){let t=Up(),n=e[O];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Up(){let e=$.lFrame,t=e===null?null:e.child;return t===null?$p(e):t}function $p(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Hp(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Tu=Hp;function oa(){let e=Hp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bp(e){return($.lFrame.contextLView=Sp(e,$.lFrame.contextLView))[se]}function Yt(){return $.lFrame.selectedIndex}function bn(e){$.lFrame.selectedIndex=e}function ri(){let e=$.lFrame;return ti(e.tView,e.selectedIndex)}function zp(){return $.lFrame.currentNamespace}var qp=!0;function ia(){return qp}function sa(e){qp=e}function Vl(e,t=null,n=null,r){let o=Mu(e,t,n,r);return o.resolveInjectorInitializers(),o}function Mu(e,t=null,n=null,r,o=new Set){let i=[n||Ve,mp(e)];return r=r||(typeof e=="object"?void 0:Wt(e)),new Bn(i,t||Yo(),r||null,o)}var nt=class e{static THROW_IF_NOT_FOUND=Vn;static NULL=new zo;static create(t,n){if(Array.isArray(t))return Vl({name:""},n,t,"");{let r=t.name??"";return Vl({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>F(ou)});static __NG_ELEMENT_ID__=-1},Ee=new D(""),Zt=(()=>{class e{static __NG_ELEMENT_ID__=hb;static __NG_ENV_ID__=n=>n}return e})(),Ul=class extends Zt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Zn(this._lView)}onDestroy(t){let n=this._lView;return mu(n,t),()=>Dp(n,t)}};function hb(){return new Ul(B())}var xu=!1,Xt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Se(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new z(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),$l=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,wp()&&(this.destroyRef=_(Zt,{optional:!0})??void 0,this.pendingTasks=_(Xt,{optional:!0})??void 0)}emit(t){let n=N(null);try{super.next(t)}finally{N(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof me&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},he=$l;function Bs(...e){}function Au(e){let t,n;function r(){e=Bs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Ru(e){return queueMicrotask(()=>e()),()=>{e=Bs}}var Nu="isAngularZone",qo=Nu+"_ID",pb=0,ce=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new he(!1);onMicrotaskEmpty=new he(!1);onStable=new he(!1);onError=new he(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=xu}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,vb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,gb,Bs,Bs);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},gb={};function Ou(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Au(()=>{e.callbackScheduled=!1,Hl(e),e.isCheckStableRunning=!0,Ou(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Hl(e)}function vb(e){let t=()=>{mb(e)},n=pb++;e._inner=e._inner.fork({name:"angular",properties:{[Nu]:!0,[qo]:n,[qo+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(yb(c))return r.invokeTask(i,s,a,c);try{return ap(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),cp(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return ap(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!_b(c)&&t(),cp(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Hl(e),Ou(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Hl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ap(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cp(e){e._nesting--,Ou(e)}var Go=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new he;onMicrotaskEmpty=new he;onStable=new he;onError=new he;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function yb(e){return Gp(e,"__ignore_ng_zone__")}function _b(e){return Gp(e,"__scheduler_tick__")}function Gp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Lt=new D("",{factory:()=>{let e=_(ce),t=_(Te),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Nt),n.handleError(r))})}}}),Wp={provide:vn,useValue:()=>{let e=_(Nt,{optional:!0})},multi:!0};function re(e,t){let[n,r,o]=pl(e,t?.equal),i=n,s=i[Le];return i.set=r,i.update=o,i.asReadonly=Kp.bind(i),i}function Kp(){let e=this[Le];if(e.readonlyFn===void 0){let t=()=>this();t[Le]=e,e.readonlyFn=t}return e.readonlyFn}var aa=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=wb}return e})();function wb(){return new aa(B(),$e())}var pn=class{},zr=new D("",{factory:()=>!0});var ca=new D("");var ku=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Bl})}return e})(),Bl=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},zl=class{[Le];constructor(t){this[Le]=t}destroy(){this[Le].destroy()}};function xe(e){return gl(e)}function di(e){return{toString:e}.toString()}function Ab(e){return typeof e=="function"}function Cg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var pa=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Zr=(()=>{let e=()=>Ig;return e.ngInherit=!0,e})();function Ig(e){return e.type.prototype.ngOnChanges&&(e.setInput=Nb),Rb}function Rb(){let e=Dg(this),t=e?.current;if(t){let n=e.previous;if(n===mn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Nb(e,t,n,r,o){let i=this.declaredInputs[r],s=Dg(e)||Ob(e,{previous:mn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new pa(l&&l.currentValue,n,c===mn),Cg(e,t,o,n)}var Sg="__ngSimpleChanges__";function Dg(e){return e[Sg]||null}function Ob(e,t){return e[Sg]=t}var Qp=[];var Y=function(e,t=null,n){for(let r=0;r<Qp.length;r++){let o=Qp[r];o(e,t,n)}},q=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(q||{});function kb(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Ig(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Pb(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function ua(e,t,n){Tg(e,t,3,n)}function da(e,t,n,r){(e[k]&3)===n&&Tg(e,t,n,r)}function Pu(e,t){let n=e[k];(n&3)===t&&(n&=16383,n+=1,e[k]=n)}function Tg(e,t,n,r){let o=r!==void 0?e[Kn]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Kn]+=65536),(a<i||i==-1)&&(Lb(e,n,t,c),e[Kn]=(e[Kn]&4294901760)+c+2),c++}function Jp(e,t){Y(q.LifecycleHookStart,e,t);let n=N(null);try{t.call(e)}finally{N(n),Y(q.LifecycleHookEnd,e,t)}}function Lb(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[k]>>14<e[Kn]>>16&&(e[k]&3)===t&&(e[k]+=16384,Jp(a,i)):Jp(a,i)}var Gr=-1,er=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function Fb(e){return(e.flags&8)!==0}function jb(e){return(e.flags&16)!==0}function Vb(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];$b(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Ub(e){return e===3||e===4||e===6}function $b(e){return e.charCodeAt(0)===64}function Wr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Yp(e,n,o,null,t[++r]):Yp(e,n,o,null,null))}}return e}function Yp(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Mg(e){return e!==Gr}function ga(e){return e&32767}function Hb(e){return e>>16}function ma(e,t){let n=Hb(e),r=t;for(;n>0;)r=r[Gn],n--;return r}var qu=!0;function Zp(e){let t=qu;return qu=e,t}var Bb=256,xg=Bb-1,Ag=5,zb=0,Ft={};function qb(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(r=n[qn]),r==null&&(r=n[qn]=zb++);let o=r&xg,i=1<<o;t.data[e+(o>>Ag)]|=i}function va(e,t){let n=Rg(e,t);if(n!==-1)return n;let r=t[O];r.firstCreatePass&&(e.injectorIndex=t.length,Lu(r.data,e),Lu(t,null),Lu(r.blueprint,null));let o=pd(e,t),i=e.injectorIndex;if(Mg(o)){let s=ga(o),a=ma(o,t),c=a[O].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Lu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function pd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Lg(o),r===null)return Gr;if(n++,o=o[Gn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gr}function Gu(e,t,n){qb(e,t,n)}function Ng(e,t,n){if(n&8||e!==void 0)return e;Ks(t,"NodeInjector")}function Og(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Kt],i=Je(void 0);try{return o?o.get(t,r,n&8):nu(t,r,n&8)}finally{Je(i)}}return Ng(r,t,n)}function kg(e,t,n,r=0,o){if(e!==null){if(t[k]&2048&&!(r&2)){let s=Jb(e,t,n,r,Ft);if(s!==Ft)return s}let i=Pg(e,t,n,r,Ft);if(i!==Ft)return i}return Og(t,n,r,o)}function Pg(e,t,n,r,o){let i=Kb(n);if(typeof i=="function"){if(!Du(t,e,r))return r&1?Ng(o,n,r):Og(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ks(n);else return s}finally{Tu()}}else if(typeof i=="number"){let s=null,a=Rg(e,t),c=Gr,l=r&1?t[qe][ot]:null;for((a===-1||r&4)&&(c=a===-1?pd(e,t):t[a+8],c===Gr||!eg(r,!1)?a=-1:(s=t[O],a=ga(c),t=ma(c,t)));a!==-1;){let u=t[O];if(Xp(i,a,u.data)){let d=Gb(a,t,n,s,r,l);if(d!==Ft)return d}c=t[a+8],c!==Gr&&eg(r,t[O].data[a+8]===l)&&Xp(i,a,t)?(s=u,a=ga(c),t=ma(c,t)):a=-1}}return o}function Gb(e,t,n,r,o,i){let s=t[O],a=s.data[e+8],c=r==null?_n(a)&&qu:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=Wb(a,s,n,c,l);return u!==null?ya(t,s,u,a,o):Ft}function Wb(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let h=d;h<p;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(o){let h=s[c];if(h&&kt(h)&&h.type===n)return c}return null}function ya(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof er){let a=i;if(a.resolving){let h=dp(s[n]);throw tu(h)}let c=Zp(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Je(a.injectImpl):null,p=Du(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&kb(n,s[n],t)}finally{d!==null&&Je(d),Zp(c),a.resolving=!1,Tu()}}return i}function Kb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(qn)?e[qn]:void 0;return typeof t=="number"?t>=0?t&xg:Qb:t}function Xp(e,t,n){let r=1<<e;return!!(n[t+(e>>Ag)]&r)}function eg(e,t){return!(e&2)&&!(e&1&&t)}var Xn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return kg(this._tNode,this._lView,t,Un(r),n)}};function Qb(){return new Xn($e(),B())}function tn(e){return di(()=>{let t=e.prototype.constructor,n=t[Bo]||Wu(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Bo]||Wu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Wu(e){return Gl(e)?()=>{let t=Wu(De(e));return t&&t()}:$n(e)}function Jb(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[k]&2048&&!$r(s);){let a=Pg(i,s,n,r|2,Ft);if(a!==Ft)return a;let c=i.parent;if(!c){let l=s[uu];if(l){let u=l.get(n,Ft,r);if(u!==Ft)return u}c=Lg(s),s=s[Gn]}i=c}return o}function Lg(e){let t=e[O],n=t.type;return n===2?t.declTNode:n===1?e[ot]:null}function Yb(){return gd($e(),B())}function gd(e,t){return new ir(wt(e,t))}var ir=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Yb}return e})();function Fg(e){return(e.flags&128)===128}var md=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(md||{}),jg=new Map,Zb=0;function Xb(){return Zb++}function eE(e){jg.set(e[Jt],e)}function Ku(e){jg.delete(e[Jt])}var tg="__ngContext__";function Kr(e,t){Ot(t)?(e[tg]=t[Jt],eE(t)):e[tg]=t}function Vg(e){return $g(e[Ur])}function Ug(e){return $g(e[rt])}function $g(e){for(;e!==null&&!_t(e);)e=e[rt];return e}var tE;function vd(e){tE=e}var Ra=new D("",{factory:()=>nE}),nE="ng";var Na=new D(""),fi=new D("",{providedIn:"platform",factory:()=>"unknown"});var Oa=new D("",{factory:()=>_(Ee).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Hg="r";var Bg="di";var zg=!1,qg=new D("",{factory:()=>zg});var rE=(e,t,n,r)=>{};function oE(e,t,n,r){rE(e,t,n,r)}function yd(e){return(e.flags&32)===32}var iE=()=>null;function Gg(e,t,n=!1){return iE(e,t,n)}function Wg(e,t){let n=e.contentQueries;if(n!==null){let r=N(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Su(i),a.contentQueries(2,t[s],s)}}}finally{N(r)}}}function Qu(e,t,n){Su(0);let r=N(null);try{t(e,n)}finally{N(r)}}function Kg(e,t,n){if(fu(t)){let r=N(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{N(r)}}}var Ct=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Ct||{});var Ju=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ql})`}};function _d(e){return e instanceof Ju?e.changingThisBreaksApplicationSecurity:e}function sE(e,t){return e.createText(t)}function aE(e,t,n){e.setValue(t,n)}function Qg(e,t,n){return e.createElement(t,n)}function _a(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Jg(e,t,n){e.appendChild(t,n)}function ng(e,t,n,r,o){r!==null?_a(e,t,n,r,o):Jg(e,t,n)}function Yg(e,t,n,r){e.removeChild(null,t,n,r)}function cE(e,t,n){e.setAttribute(t,"style",n)}function lE(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zg(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Vb(e,t,r),o!==null&&lE(e,t,o),i!==null&&cE(e,t,i)}function Xg(e){return e instanceof Function?e():e}function uE(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var em="ng-template";function dE(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&uE(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(wd(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function wd(e){return e.type===4&&e.value!==em}function fE(e,t,n){let r=e.type===4&&!n?em:e.value;return t===r}function hE(e,t,n){let r=4,o=e.attrs,i=o!==null?mE(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!bt(r)&&!bt(c))return!1;if(s&&bt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!fE(e,c,n)||c===""&&t.length===1){if(bt(r))return!1;s=!0}}else if(r&8){if(o===null||!dE(e,o,c,n)){if(bt(r))return!1;s=!0}}else{let l=t[++a],u=pE(c,o,wd(e),n);if(u===-1){if(bt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(bt(r))return!1;s=!0}}}}return bt(r)||s}function bt(e){return(e&1)===0}function pE(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return vE(t,e)}function gE(e,t,n=!1){for(let r=0;r<t.length;r++)if(hE(e,t[r],n))return!0;return!1}function mE(e){for(let t=0;t<e.length;t++){let n=e[t];if(Ub(n))return t}return e.length}function vE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function rg(e,t){return e?":not("+t.trim()+")":t}function yE(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!bt(s)&&(t+=rg(i,o),o=""),r=s,i=i||!bt(r);n++}return o!==""&&(t+=rg(i,o)),t}function _E(e){return e.map(yE).join(",")}function wE(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!bt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var It={};function bd(e,t,n,r,o,i,s,a,c,l,u){let d=Me+r,p=d+o,h=bE(d,p),g=typeof l=="function"?l():l;return h[O]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function bE(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:It);return n}function EE(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=bd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ed(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[yt]=o,d[k]=r|4|128|8|64|1024,(l!==null||e&&e[k]&2048)&&(d[k]|=2048),pu(d),d[we]=d[Gn]=e,d[se]=n,d[Qt]=s||e&&e[Qt],d[te]=a||e&&e[te],d[Kt]=c||e&&e[Kt]||null,d[ot]=i,d[Jt]=Xb(),d[jr]=u,d[uu]=l,d[qe]=t.type==2?e[qe]:d,d}function CE(e,t,n){let r=wt(t,e),o=EE(n),i=e[Qt].rendererFactory,s=Cd(e,Ed(e,o,null,tm(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function tm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function nm(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Cd(e,t){return e[Ur]?e[lu][rt]=t:e[Ur]=t,e[lu]=t,t}function j(e=1){rm(be(),B(),Yt()+e,!1)}function rm(e,t,n,r){if(!r)if((t[k]&3)===3){let i=e.preOrderCheckHooks;i!==null&&ua(t,i,n)}else{let i=e.preOrderHooks;i!==null&&da(t,i,0,n)}bn(n)}var ka=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(ka||{});function Yu(e,t,n,r){let o=N(null);try{let[i,s,a]=e.inputs[n],c=null;(s&ka.SignalBased)!==0&&(c=t[i][Le]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Cg(t,c,i,r)}finally{N(o)}}var en=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(en||{}),IE;function Id(e,t){return IE(e,t)}var tr=new Set,Pa=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Pa||{}),sr=new D(""),og=new Set;function nn(e){og.has(e)||(og.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Sd=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),om=[0,1,2,3],im=(()=>{class e{ngZone=_(ce);scheduler=_(pn);errorHandler=_(Nt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(sr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Y(q.AfterRenderHooksStart),this.executing=!0;for(let r of om)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Y(q.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Jn]??=[]).push(n),Hr(r),r[k]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Pa.AFTER_NEXT_RENDER,n):n()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),wa=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Jn];t&&(this.view[Jn]=t.filter(n=>n!==this))}};function La(e,t){let n=t?.injector??_(nt);return nn("NgAfterNextRender"),DE(e,n,t,!0)}function SE(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function DE(e,t,n,r){let o=t.get(Sd);o.impl??=t.get(im);let i=t.get(sr,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Zt):null,a=t.get(aa,null,{optional:!0}),c=new wa(o.impl,SE(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var sm=new D("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:_(Te)})});function am(e,t,n){let r=e.get(sm);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function TE(e,t){let n=e.get(sm);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function ME(e,t){for(let[n,r]of t)am(e,r.animateFns)}function ig(e,t,n,r){let o=e?.[Yn]?.enter;t!==null&&o&&o.has(n.index)&&ME(r,o)}function qr(e,t,n,r,o,i,s,a){if(o!=null){let c,l=!1;_t(o)?c=o:Ot(o)&&(l=!0,o=o[yt]);let u=it(o);e===0&&r!==null?(ig(a,r,i,n),s==null?Jg(t,r,u):_a(t,r,u,s||null,!0)):e===1&&r!==null?(ig(a,r,i,n),_a(t,r,u,s||null,!0)):e===2?sg(a,i,n,d=>{Yg(t,u,l,d)}):e===3&&sg(a,i,n,()=>{t.destroyNode(u)}),c!=null&&$E(t,e,n,c,i,r,s)}}function xE(e,t){cm(e,t),t[yt]=null,t[ot]=null}function AE(e,t,n,r,o,i){r[yt]=o,r[ot]=t,ja(e,r,n,1,o,i)}function cm(e,t){t[Qt].changeDetectionScheduler?.notify(9),ja(e,t,t[te],2,null,null)}function RE(e){let t=e[Ur];if(!t)return Fu(e[O],e);for(;t;){let n=null;if(Ot(t))n=t[Ur];else{let r=t[le];r&&(n=r)}if(!n){for(;t&&!t[rt]&&t!==e;)Ot(t)&&Fu(t[O],t),t=t[we];t===null&&(t=e),Ot(t)&&Fu(t[O],t),n=t&&t[rt]}t=n}}function Dd(e,t){let n=e[ei],r=n.indexOf(t);n.splice(r,1)}function Fa(e,t){if(Zn(t))return;let n=t[te];n.destroyNode&&ja(e,t,n,3,null,null),RE(t)}function Fu(e,t){if(Zn(t))return;let n=N(null);try{t[k]&=-129,t[k]|=256,t[Ye]&&Po(t[Ye]),kE(e,t),OE(e,t),t[O].type===1&&t[te].destroy();let r=t[Wn];if(r!==null&&_t(t[we])){r!==t[we]&&Dd(r,t);let o=t[Qn];o!==null&&o.detachView(e)}Ku(t)}finally{N(n)}}function sg(e,t,n,r){let o=e?.[Yn];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&tr.add(e[Jt]),am(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),NE(e,r)}else e&&tr.delete(e[Jt]),r(!1)},o)}function NE(e,t){let n=e[Yn]?.running;if(n){n.then(()=>{e[Yn].running=void 0,tr.delete(e[Jt]),t(!0)});return}t(!1)}function OE(e,t){let n=e.cleanup,r=t[Vr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Vr]=null);let o=t[Gt];if(o!==null){t[Gt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Zo];if(i!==null){t[Zo]=null;for(let s of i)s.destroy()}}function kE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof er)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Y(q.LifecycleHookStart,a,c);try{c.call(a)}finally{Y(q.LifecycleHookEnd,a,c)}}else{Y(q.LifecycleHookStart,o,i);try{i.call(o)}finally{Y(q.LifecycleHookEnd,o,i)}}}}}function PE(e,t,n){return LE(e,t.parent,n)}function LE(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[yt];if(_n(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ct.None||o===Ct.Emulated)return null}return wt(r,n)}function FE(e,t,n){return VE(e,t,n)}function jE(e,t,n){return e.type&40?wt(e,n):null}var VE=jE,ag;function Td(e,t,n,r){let o=PE(e,r,t),i=t[te],s=r.parent||t[ot],a=FE(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ng(i,o,n[c],a,!1);else ng(i,o,n,a,!1);ag!==void 0&&ag(i,r,t,n,o)}function oi(e,t){if(t!==null){let n=t.type;if(n&3)return wt(t,e);if(n&4)return Zu(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return oi(e,r);{let o=e[t.index];return _t(o)?Zu(-1,o):it(o)}}else{if(n&128)return oi(e,t.next);if(n&32)return Id(t,e)()||it(e[t.index]);{let r=lm(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=hn(e[qe]);return oi(o,r)}else return oi(e,t.next)}}}return null}function lm(e,t){if(t!==null){let r=e[qe][ot],o=t.projection;return r.projection[o]}return null}function Zu(e,t){let n=le+e+1;if(n<t.length){let r=t[n],o=r[O].firstChild;if(o!==null)return oi(r,o)}return t[yn]}function Md(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Kt];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&Kr(it(c),r),n.flags|=2),!yd(n))if(l&8)Md(e,t,n.child,r,o,i,!1),qr(t,e,a,o,c,n,i,r);else if(l&32){let u=Id(n,r),d;for(;d=u();)qr(t,e,a,o,d,n,i,r);qr(t,e,a,o,c,n,i,r)}else l&16?UE(e,t,r,n,o,i):qr(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function ja(e,t,n,r,o,i){Md(n,r,e.firstChild,t,o,i,!1)}function UE(e,t,n,r,o,i){let s=n[qe],c=s[ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];qr(t,e,n[Kt],o,u,r,i,n)}else{let l=c,u=s[we];Fg(r)&&(l.flags|=128),Md(e,t,l,u,o,i,!0)}}function $E(e,t,n,r,o,i,s){let a=r[yn],c=it(r);a!==c&&qr(t,e,n,i,a,o,s);for(let l=le;l<r.length;l++){let u=r[l];ja(u[O],u,e,t,i,a)}}function HE(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:en.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=en.Important),e.setStyle(n,r,o,i))}}function um(e,t,n,r,o){let i=Yt(),s=r&2;try{bn(-1),s&&t.length>Me&&rm(e,t,Me,!1);let a=s?q.TemplateUpdateStart:q.TemplateCreateStart;Y(a,o,n),n(r,o)}finally{bn(i);let a=s?q.TemplateUpdateEnd:q.TemplateCreateEnd;Y(a,o,n)}}function dm(e,t,n){KE(e,t,n),(n.flags&64)===64&&QE(e,t,n)}function xd(e,t,n=wt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function BE(e,t,n,r){let i=r.get(qg,zg)||n===Ct.ShadowDom||n===Ct.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return zE(s),s}function zE(e){qE(e)}var qE=()=>null;function GE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fm(e,t,n,r,o,i){let s=t[O];if(Ad(e,s,t,n,r)){_n(e)&&WE(t,e.index);return}e.type&3&&(n=GE(n)),hm(e,t,n,r,o,i)}function hm(e,t,n,r,o,i){if(e.type&3){let s=wt(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function WE(e,t){let n=st(t,e);n[k]&16||(n[k]|=64)}function KE(e,t,n){let r=n.directiveStart,o=n.directiveEnd;_n(n)&&CE(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||va(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=ya(t,e,s,n);if(Kr(c,t),i!==null&&eC(t,s-r,c,a,n,i),kt(a)){let l=st(n.index,t);l[se]=ya(t,e,s,n)}}}function QE(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=jp();try{bn(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];na(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&JE(c,l)}}finally{bn(-1),na(s)}}function JE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function YE(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];gE(t,i.selectors,!1)&&(r??=[],kt(i)?r.unshift(i):r.push(i))}return r}function ZE(e,t,n,r,o,i){let s=wt(e,t);XE(t[te],s,i,e.value,n,r,o)}function XE(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?Ws(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function eC(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Yu(r,n,c,l)}}function pm(e,t,n,r,o){let i=Me+n,s=t[O],a=o(s,t,e,r,n);t[i]=a,Br(e,!0);let c=e.type===2;return c?(Zg(t[te],a,e),(xp()===0||Xs(e))&&Kr(a,t),Ap()):Kr(a,t),ia()&&(!c||!yd(e))&&Td(s,t,a,e),e}function gm(e){let t=e;return bu()?kp():(t=t.parent,Br(t,!1)),t}function tC(e,t){let n=e[Kt];if(!n)return;let r;try{r=n.get(Lt,null)}catch{r=null}r?.(t)}function Ad(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Yu(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];Yu(u,l,r,o),a=!0}return a}function nC(e,t){let n=st(t,e),r=n[O];rC(r,n);let o=n[yt];o!==null&&n[jr]===null&&(n[jr]=Gg(o,n[Kt])),Y(q.ComponentStart);try{Rd(r,n,n[se])}finally{Y(q.ComponentEnd,n[se])}}function rC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Rd(e,t,n){ra(t);try{let r=e.viewQuery;r!==null&&Qu(1,r,n);let o=e.template;o!==null&&um(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qn]?.finishViewCreation(e),e.staticContentQueries&&Wg(e,t),e.staticViewQueries&&Qu(2,e.viewQuery,n);let i=e.components;i!==null&&oC(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[k]&=-5,oa()}}function oC(e,t){for(let n=0;n<t.length;n++)nC(e,t[n])}function Nd(e,t,n,r){let o=N(null);try{let i=t.tView,a=e[k]&4096?4096:16,c=Ed(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Wn]=l;let u=e[Qn];return u!==null&&(c[Qn]=u.createEmbeddedView(i)),Rd(i,c,n),c}finally{N(o)}}function si(e,t){return!t||t.firstChild===null||Fg(e)}function ai(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(it(i)),_t(i)&&mm(i,r);let s=n.type;if(s&8)ai(e,t,n.child,r);else if(s&32){let a=Id(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=lm(t,n);if(Array.isArray(a))r.push(...a);else{let c=hn(t[qe]);ai(c[O],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function mm(e,t){for(let n=le;n<e.length;n++){let r=e[n],o=r[O].firstChild;o!==null&&ai(r[O],r,o,t)}e[yn]!==e[yt]&&t.push(e[yn])}function vm(e){if(e[Jn]!==null){for(let t of e[Jn])t.impl.addSequence(t);e[Jn].length=0}}var ym=[];function iC(e){return e[Ye]??sC(e)}function sC(e){let t=ym.pop()??Object.create(cC);return t.lView=e,t}function aC(e){e.lView[Ye]!==e&&(e.lView=null,ym.push(e))}var cC=U(w({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Hr(e.lView)},consumerOnSignalRead(){this.lView[Ye]=this}});function lC(e){let t=e[Ye]??Object.create(uC);return t.lView=e,t}var uC=U(w({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=hn(e.lView);for(;t&&!_m(t[O]);)t=hn(t);t&&gu(t)},consumerOnSignalRead(){this.lView[Ye]=this}});function _m(e){return e.type!==2}function wm(e){if(e[Zo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Zo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[k]&8192)}}var dC=100;function bm(e,t=0){let r=e[Qt].rendererFactory,o=!1;o||r.begin?.();try{fC(e,t)}finally{o||r.end?.()}}function fC(e,t){let n=Eu();try{Cu(!0),Xu(e,t);let r=0;for(;ni(e);){if(r===dC)throw new I(103,!1);r++,Xu(e,1)}}finally{Cu(n)}}function hC(e,t,n,r){if(Zn(t))return;let o=t[k],i=!1,s=!1;ra(t);let a=!0,c=null,l=null;i||(_m(e)?(l=iC(t),c=ko(l)):ls()===null?(a=!1,l=lC(t),c=ko(l)):t[Ye]&&(Po(t[Ye]),t[Ye]=null));try{pu(t),Pp(e.bindingStartIndex),n!==null&&um(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let h=e.preOrderCheckHooks;h!==null&&ua(t,h,null)}else{let h=e.preOrderHooks;h!==null&&da(t,h,0,null),Pu(t,0)}if(s||pC(t),wm(t),Em(t,0),e.contentQueries!==null&&Wg(e,t),!i)if(u){let h=e.contentCheckHooks;h!==null&&ua(t,h)}else{let h=e.contentHooks;h!==null&&da(t,h,1),Pu(t,1)}mC(e,t);let d=e.components;d!==null&&Im(t,d,0);let p=e.viewQuery;if(p!==null&&Qu(2,p,r),!i)if(u){let h=e.viewCheckHooks;h!==null&&ua(t,h)}else{let h=e.viewHooks;h!==null&&da(t,h,2),Pu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Zs]){for(let h of t[Zs])h();t[Zs]=null}i||(vm(t),t[k]&=-73)}catch(u){throw i||Hr(t),u}finally{l!==null&&(us(l,c),a&&aC(l)),oa()}}function Em(e,t){for(let n=Vg(e);n!==null;n=Ug(n))for(let r=le;r<n.length;r++){let o=n[r];Cm(o,t)}}function pC(e){for(let t=Vg(e);t!==null;t=Ug(t)){if(!(t[k]&2))continue;let n=t[ei];for(let r=0;r<n.length;r++){let o=n[r];gu(o)}}}function gC(e,t,n){Y(q.ComponentStart);let r=st(t,e);try{Cm(r,n)}finally{Y(q.ComponentEnd,r[se])}}function Cm(e,t){ea(e)&&Xu(e,t)}function Xu(e,t){let r=e[O],o=e[k],i=e[Ye],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&ds(i)),s||=!1,i&&(i.dirty=!1),e[k]&=-9217,s)hC(r,e,r.template,e[se]);else if(o&8192){let a=N(null);try{wm(e),Em(e,1);let c=r.components;c!==null&&Im(e,c,1),vm(e)}finally{N(a)}}}function Im(e,t,n){for(let r=0;r<t.length;r++)gC(e,t[r],n)}function mC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)bn(~o);else{let i=o,s=n[++r],a=n[++r];Fp(s,i);let c=t[i];Y(q.HostBindingsUpdateStart,c);try{a(2,c)}finally{Y(q.HostBindingsUpdateEnd,c)}}}}finally{bn(-1)}}function Od(e,t){let n=Eu()?64:1088;for(e[Qt].changeDetectionScheduler?.notify(t);e;){e[k]|=n;let r=hn(e);if($r(e)&&!r)return e;e=r}return null}function Sm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Dm(e,t){let n=le+t;if(n<e.length)return e[n]}function Va(e,t,n,r=!0){let o=t[O];if(vC(o,t,e,n),r){let s=Zu(n,e),a=t[te],c=a.parentNode(e[yn]);c!==null&&AE(o,e[ot],a,t,c,s)}let i=t[jr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Tm(e,t){let n=ci(e,t);return n!==void 0&&Fa(n[O],n),n}function ci(e,t){if(e.length<=le)return;let n=le+t,r=e[n];if(r){let o=r[Wn];o!==null&&o!==e&&Dd(o,r),t>0&&(e[n-1][rt]=r[rt]);let i=Qo(e,le+t);xE(r[O],r);let s=i[Qn];s!==null&&s.detachView(i[O]),r[we]=null,r[rt]=null,r[k]&=-129}return r}function vC(e,t,n,r){let o=le+r,i=n.length;r>0&&(n[o-1][rt]=t),r<i-le?(t[rt]=n[o],ru(n,le+r,t)):(n.push(t),t[rt]=null),t[we]=n;let s=t[Wn];s!==null&&n!==s&&Mm(s,t);let a=t[Qn];a!==null&&a.insertView(e),ta(t),t[k]|=128}function Mm(e,t){let n=e[ei],r=t[we];if(Ot(r))e[k]|=2;else{let o=r[we][qe];t[qe]!==o&&(e[k]|=2)}n===null?e[ei]=[t]:n.push(t)}var nr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[O];return ai(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[se]}set context(t){this._lView[se]=t}get destroyed(){return Zn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[we];if(_t(t)){let n=t[Xo],r=n?n.indexOf(this):-1;r>-1&&(ci(t,r),Qo(n,r))}this._attachedToViewContainer=!1}Fa(this._lView[O],this._lView)}onDestroy(t){mu(this._lView,t)}markForCheck(){Od(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){ta(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,bm(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=$r(this._lView),n=this._lView[Wn];n!==null&&!t&&Dd(n,this._lView),cm(this._lView[O],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=$r(this._lView),r=this._lView[Wn];r!==null&&!n&&Mm(r,this._lView),ta(this._lView)}};function Ua(e,t,n,r,o){let i=e.data[t];if(i===null)i=yC(e,t,n,r,o),Lp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Op();i.injectorIndex=s===null?-1:s.injectorIndex}return Br(i,!0),i}function yC(e,t,n,r,o){let i=wu(),s=bu(),a=s?i:i&&i.parent,c=e.data[t]=wC(e,a,n,t,r,o);return _C(e,c,i,s),c}function _C(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function wC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Np()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bC(e){let t=e[du]??[],r=e[we][te],o=[];for(let i of t)i.data[Bg]!==void 0?o.push(i):EC(i,r);e[du]=o}function EC(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Hg];for(;n<o;){let i=r.nextSibling;Yg(t,r,!1),r=i,n++}}}var CC=()=>null,IC=()=>null;function ed(e,t){return CC(e,t)}function xm(e,t,n){return IC(e,t,n)}var Am=class{},$a=class{},td=class{resolveComponentFactory(t){throw new I(917,!1)}},hi=class{static NULL=new td},rr=class{},Xr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>SC()}return e})();function SC(){let e=B(),t=$e(),n=st(t.index,e);return(Ot(n)?n:e)[te]}var Rm=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();var fa={},nd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,fa,r);return o!==fa||n===fa?o:this.parentInjector.get(t,n,r)}};function ba(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=zs(o,a);else if(i==2){let c=a,l=t[++s];r=zs(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function G(e,t=0){let n=B();if(n===null)return F(e,t);let r=$e();return kg(r,n,De(e),t)}function DC(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}xC(e,t,n,a,i,c,l)}i!==null&&r!==null&&TC(n,r,i)}function TC(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new I(-301,!1);r.push(t[o],i)}}function MC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function xC(e,t,n,r,o,i,s){let a=r.length,c=null;for(let p=0;p<a;p++){let h=r[p];c===null&&kt(h)&&(c=h,MC(e,n,p)),Gu(va(n,t),e,h.type)}PC(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=nm(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=Wr(n.mergedAttrs,h.hostAttrs),RC(e,n,t,d,h),kC(d,h,o),s!==null&&s.has(h)){let[m,v]=s.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,v+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}AC(e,n,i)}function AC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))cg(0,t,o,r),cg(1,t,o,r),ug(t,r,!1);else{let i=n.get(o);lg(0,t,i,r),lg(1,t,i,r),ug(t,r,!0)}}}function cg(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),Nm(t,i)}}function lg(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Nm(t,s)}}function Nm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function ug(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||wd(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function RC(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=$n(o.type,!0)),s=new er(i,kt(o),G,null);e.blueprint[r]=s,n[r]=s,NC(e,t,r,nm(e,n,o.hostVars,It),o)}function NC(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;OC(s)!=a&&s.push(a),s.push(n,r,i)}}function OC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function kC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kt(t)&&(n[""]=e)}}function PC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Om(e,t,n,r,o,i,s,a){let c=t[O],l=c.consts,u=Pt(l,s),d=Ua(c,e,n,r,u);return i&&DC(c,t,d,Pt(l,a),o),d.mergedAttrs=Wr(d.mergedAttrs,d.attrs),d.attrs!==null&&ba(d,d.attrs,!1),d.mergedAttrs!==null&&ba(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function km(e,t){Pb(e,t),fu(t)&&e.queries.elementEnd(t)}function LC(e,t,n,r,o,i){let s=t.consts,a=Pt(s,o),c=Ua(t,e,n,r,a);if(c.mergedAttrs=Wr(c.mergedAttrs,c.attrs),i!=null){let l=Pt(s,i);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&ba(c,c.attrs,!1),c.mergedAttrs!==null&&ba(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function rn(e,t,n){if(n===It)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function ha(e,t,n){return function r(o){let i=_n(e)?st(e.index,t):t;Od(i,5);let s=t[se],a=dg(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=dg(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function dg(e,t,n,r){let o=N(null);try{return Y(q.OutputStart,t,n),n(r)!==!1}catch(i){return tC(e,i),!1}finally{Y(q.OutputEnd,t,n),N(o)}}function Pm(e,t,n,r,o,i,s,a){let c=Xs(e),l=!1,u=null;if(!r&&c&&(u=jC(t,n,i,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=wt(e,n),p=r?r(d):d;oE(n,p,i,a);let h=o.listen(p,i,a);if(!FC(i)){let g=r?m=>r(it(m[e.index])):e.index;Lm(g,t,n,i,a,h,!1)}}return l}function FC(e){return e.startsWith("animation")||e.startsWith("transition")}function jC(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Vr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Lm(e,t,n,r,o,i,s){let a=t.firstCreatePass?Mp(t):null,c=Tp(n),l=c.length;c.push(o,i),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function fg(e,t,n,r,o,i){let s=t[n],a=t[O],l=a.data[n].outputs[r],d=s[l].subscribe(i);Lm(e.index,a,t,o,i,d,!0)}var rd=Symbol("BINDING");var Ea=class extends hi{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=gn(t);return new Qr(n,this.ngModule)}};function VC(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&ka.SignalBased)!==0};return o&&(i.transform=o),i})}function UC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function $C(e,t,n){let r=t instanceof Te?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new nd(n,r):n}function HC(e){let t=e.get(rr,null);if(t===null)throw new I(407,!1);let n=e.get(Rm,null),r=e.get(pn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function BC(e,t){let n=Fm(e);return Qg(t,n,n==="svg"?Ep:n==="math"?Cp:null)}function Fm(e){return(e.selectors[0][0]||"div").toLowerCase()}var Qr=class extends $a{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=_E(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Y(q.DynamicComponentStart);let a=N(null);try{let c=this.componentDef,l=zC(r,c,s,i),u=$C(c,o||this.ngModule,t),d=HC(u),p=d.rendererFactory.createRenderer(null,c),h=r?BE(p,r,c.encapsulation,u):BC(c,p),g=s?.some(hg)||i?.some(y=>typeof y!="function"&&y.bindings.some(hg)),m=Ed(null,l,null,512|tm(c),null,null,d,p,u,null,Gg(h,u,!0));m[Me]=h,ra(m);let v=null;try{let y=Om(Me,m,2,"#host",()=>l.directiveRegistry,!0,0);Zg(p,h,y),Kr(h,m),dm(l,m,y),Kg(l,y,m),km(l,y),n!==void 0&&GC(y,this.ngContentSelectors,n),v=st(y.index,m),m[se]=v[se],Rd(l,m,null)}catch(y){throw v!==null&&Ku(v),Ku(m),y}finally{Y(q.DynamicComponentEnd),oa()}return new Ca(this.componentType,m,!!g)}finally{N(a)}}};function zC(e,t,n,r){let o=e?["ng-version","21.0.8"]:wE(t.selectors[0]),i=null,s=null,a=0;if(n)for(let u of n)a+=u[rd].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[rd].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=eu(d);c.push(p)}return bd(0,null,qC(i,s),1,a,c,null,null,null,[o],null)}function qC(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function hg(e){let t=e[rd].kind;return t==="input"||t==="twoWay"}var Ca=class extends Am{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ti(n[O],Me),this.location=gd(this._tNode,n),this.instance=st(this._tNode.index,n)[se],this.hostView=this.changeDetectorRef=new nr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Ad(r,o[O],o,t,n);this.previousInputValues.set(t,n);let s=st(r.index,o);Od(s,1)}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function GC(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ha=(()=>{class e{static __NG_ELEMENT_ID__=WC}return e})();function WC(){let e=$e();return QC(e,B())}var KC=Ha,jm=class extends KC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return gd(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){let t=pd(this._hostTNode,this._hostLView);if(Mg(t)){let n=ma(t,this._hostLView),r=ga(t),o=n[O].data[r+8];return new Xn(o,n)}else return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=pg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-le}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ed(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,si(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!Ab(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new Qr(gn(t)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let y=(c?d:this.parentInjector).get(Te,null);y&&(i=y)}let p=gn(u.componentType??{}),h=ed(this._lContainer,p?.id??null),g=h?.firstChild??null,m=u.create(d,o,g,i,s,a);return this.insertImpl(m.hostView,l,si(this._hostTNode,h)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Ip(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[we],l=new jm(c,c[ot],c[we]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Va(s,o,i,r),t.attachToViewContainerRef(),ru(ju(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=pg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ci(this._lContainer,n);r&&(Qo(ju(this._lContainer),n),Fa(r[O],r))}detach(t){let n=this._adjustIndex(t,-1),r=ci(this._lContainer,n);return r&&Qo(ju(this._lContainer),n)!=null?new nr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function pg(e){return e[Xo]}function ju(e){return e[Xo]||(e[Xo]=[])}function QC(e,t){let n,r=t[e.index];return _t(r)?n=r:(n=Sm(r,t,null,e),t[e.index]=n,Cd(t,n)),YC(n,t,e,r),new jm(n,e,t)}function JC(e,t){let n=e[te],r=n.createComment(""),o=wt(t,e),i=n.parentNode(o);return _a(n,i,r,n.nextSibling(o),!1),r}var YC=eI,ZC=()=>!1;function XC(e,t,n){return ZC(e,t,n)}function eI(e,t,n,r){if(e[yn])return;let o;n.type&8?o=it(r):o=JC(t,n),e[yn]=o}var Jr=class{},Ba=class{};var Ia=class extends Jr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ea(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Xl(t);this._bootstrapComponents=Xg(i.bootstrap),this._r3Injector=Mu(t,n,[{provide:Jr,useValue:this},{provide:hi,useValue:this.componentFactoryResolver},...r],Wt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Sa=class extends Ba{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ia(this.moduleType,t,[])}};var li=class extends Jr{injector;componentFactoryResolver=new Ea(this);instance=null;constructor(t){super();let n=new Bn([...t.providers,{provide:Jr,useValue:this},{provide:hi,useValue:this.componentFactoryResolver}],t.parent||Yo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function pi(e,t,n=null){return new li({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var tI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=su(!1,n.type),o=r.length>0?pi([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(F(Te))})}return e})();function on(e){return di(()=>{let t=Vm(e),n=U(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===md.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(tI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ct.Emulated,styles:e.styles||Ve,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&nn("NgStandalone"),Um(n);let r=e.dependencies;return n.directiveDefs=gg(r,nI),n.pipeDefs=gg(r,up),n.id=iI(n),n})}function nI(e){return gn(e)||eu(e)}function eo(e){return di(()=>({type:e.type,bootstrap:e.bootstrap||Ve,declarations:e.declarations||Ve,imports:e.imports||Ve,exports:e.exports||Ve,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function rI(e,t){if(e==null)return mn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=ka.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function oI(e){if(e==null)return mn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ce(e){return di(()=>{let t=Vm(e);return Um(t),t})}function Vm(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||mn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ve,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:rI(e.inputs,t),outputs:oI(e.outputs),debugInfo:null}}function Um(e){e.features?.forEach(t=>t(e))}function gg(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function iI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function sI(e){return Object.getPrototypeOf(e.prototype).constructor}function at(e){let t=sI(e.type),n=!0,r=[e];for(;t;){let o;if(kt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Vu(e.inputs),s.declaredInputs=Vu(e.declaredInputs),s.outputs=Vu(e.outputs);let a=o.hostBindings;a&&dI(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&lI(e,c),l&&uI(e,l),aI(e,o),lp(e.outputs,o.outputs),kt(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===at&&(n=!1)}}t=Object.getPrototypeOf(t)}cI(r)}function aI(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function cI(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Wr(o.hostAttrs,n=Wr(n,o.hostAttrs))}}function Vu(e){return e===mn?{}:e===Ve?[]:e}function lI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function uI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function dI(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function fI(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Wr(e.mergedAttrs,e.attrs);let u=e.tView=bd(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Br(e,!1);let c=hI(n,t,e,r);ia()&&Td(n,t,c,e),Kr(c,t);let l=Sm(c,t,c,e);t[r+Me]=l,Cd(t,l),XC(l,e,t)}function Da(e,t,n,r,o,i,s,a,c,l,u){let d=n+Me,p;if(t.firstCreatePass){if(p=Ua(t,d,4,s||null,a||null),l!=null){let h=Pt(t.consts,l);p.localNames=[];for(let g=0;g<h.length;g+=2)p.localNames.push(h[g],-1)}}else p=t.data[d];return fI(p,e,t,n,r,o,i,c),l!=null&&xd(e,p,u),p}var hI=pI;function pI(e,t,n,r){return sa(!0),t[te].createComment("")}var kd=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function $m(e){return typeof e=="function"&&e[Le]!==void 0}function Pd(e){return $m(e)&&typeof e.set=="function"}var Ld=new D("");function ar(e){return!!e&&typeof e.then=="function"}function Hm(e){return!!e&&typeof e.subscribe=="function"}var Bm=new D("");var Fd=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=_(Bm,{optional:!0})??[];injector=_(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ue(this.injector,o);if(ar(i))n.push(i);else if(Hm(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),za=new D("");function zm(){hl(()=>{let e="";throw new I(600,e)})}function qm(e){return e.isBoundToModule}var gI=10;var sn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Lt);afterRenderManager=_(Sd);zonelessEnabled=_(zr);rootEffectScheduler=_(ku);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(Xt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ee(n=>!n))}constructor(){_(sr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=_(Te);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=nt.NULL){return this._injector.get(ce).run(()=>{Y(q.BootstrapComponentStart);let s=n instanceof $a;if(!this._injector.get(Fd).done){let g="";throw new I(405,g)}let c;s?c=n:c=this._injector.get(hi).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=qm(c)?void 0:this._injector.get(Jr),u=r||c.selector,d=c.create(o,[],u,l),p=d.location.nativeElement,h=d.injector.get(Ld,null);return h?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),ii(this.components,d),h?.unregisterApplication(p)}),this._loadComponent(d),Y(q.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Y(q.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pa.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Y(q.ChangeDetectionEnd),new I(101,!1);let n=N(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,N(n),this.afterTick.next(),Y(q.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(rr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<gI;){Y(q.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Y(q.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ni(o))continue;let i=r&&!this.zonelessEnabled?0:1;bm(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ni(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ii(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(za,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ii(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ii(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function qa(e,t,n,r){let o=B(),i=wn();if(rn(o,i,t)){let s=be(),a=ri();ZE(a,o,e,t,n,r)}return qa}var sL=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function jd(){return B()[qe][se]}var od=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function Uu(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function mI(e,t,n,r){let o,i,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){N(r);let l=t.length-1;for(N(null);s<=a&&s<=l;){let u=e.at(s),d=t[s],p=Uu(s,u,s,d,n);if(p!==0){p<0&&e.updateValue(s,d),s++;continue}let h=e.at(a),g=t[l],m=Uu(a,h,l,g,n);if(m!==0){m<0&&e.updateValue(a,g),a--,l--;continue}let v=n(s,u),y=n(a,h),V=n(s,d);if(Object.is(V,y)){let b=n(l,g);Object.is(b,v)?(e.swap(s,a),e.updateValue(a,g),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(o??=new Ta,i??=vg(e,s,a,n),id(e,o,s,V))e.updateValue(s,d),s++,a++;else if(i.has(V))o.set(v,e.detach(s)),a--;else{let b=e.create(s,t[s]);e.attach(s,b),s++,a++}}for(;s<=l;)mg(e,o,n,s,t[s]),s++}else if(t!=null){N(r);let l=t[Symbol.iterator]();N(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),p=u.value,h=Uu(s,d,s,p,n);if(h!==0)h<0&&e.updateValue(s,p),s++,u=l.next();else{o??=new Ta,i??=vg(e,s,a,n);let g=n(s,p);if(id(e,o,s,g))e.updateValue(s,p),s++,a++,u=l.next();else if(!i.has(g))e.attach(s,e.create(s,p)),s++,a++,u=l.next();else{let m=n(s,d);o.set(m,e.detach(s)),a--}}}for(;!u.done;)mg(e,o,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(l=>{e.destroy(l)})}function id(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function mg(e,t,n,r,o){if(id(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function vg(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Ta=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function jt(e,t,n,r,o,i,s,a){nn("NgControlFlow");let c=B(),l=be(),u=Pt(l.consts,i);return Da(c,l,e,t,n,r,o,u,256,s,a),Vd}function Vd(e,t,n,r,o,i,s,a){nn("NgControlFlow");let c=B(),l=be(),u=Pt(l.consts,i);return Da(c,l,e,t,n,r,o,u,512,s,a),Vd}function Vt(e,t){nn("NgControlFlow");let n=B(),r=wn(),o=n[r]!==It?n[r]:-1,i=o!==-1?Ma(n,Me+o):void 0,s=0;if(rn(n,r,e)){let a=N(null);try{if(i!==void 0&&Tm(i,s),e!==-1){let c=Me+e,l=Ma(n,c),u=ld(n[O],c),d=xm(l,u,n),p=Nd(n,u,t,{dehydratedView:d});Va(l,p,s,si(u,d))}}finally{N(a)}}else if(i!==void 0){let a=Dm(i,s);a!==void 0&&(a[se]=t)}}var sd=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-le}};var ad=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Ud(e,t,n,r,o,i,s,a,c,l,u,d,p){nn("NgControlFlow");let h=B(),g=be(),m=c!==void 0,v=B(),y=a?s.bind(v[qe][se]):s,V=new ad(m,y);v[Me+e]=V,Da(h,g,e+1,t,n,r,o,Pt(g.consts,i),256),m&&Da(h,g,e+2,c,l,u,d,Pt(g.consts,p),512)}var cd=class extends od{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-le}at(t){return this.getLView(t)[se].$implicit}attach(t,n){let r=n[jr];this.needsIndexUpdate||=t!==this.length,Va(this.lContainer,n,t,si(this.templateTNode,r)),vI(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,yI(this.lContainer,t),_I(this.lContainer,t)}create(t,n){let r=ed(this.lContainer,this.templateTNode.tView.ssrId);return Nd(this.hostLView,this.templateTNode,new sd(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Fa(t[O],t)}updateValue(t,n){this.getLView(t)[se].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[se].$index=t}getLView(t){return wI(this.lContainer,t)}};function $d(e){let t=N(null),n=Yt();try{let r=B(),o=r[O],i=r[n],s=n+1,a=Ma(r,s);if(i.liveCollection===void 0){let l=ld(o,s);i.liveCollection=new cd(a,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(mI(c,e,i.trackByFn,t),c.updateIndexes(),i.hasEmptyBlock){let l=wn(),u=c.length===0;if(rn(r,l,u)){let d=n+2,p=Ma(r,d);if(u){let h=ld(o,d),g=xm(p,h,r),m=Nd(r,h,void 0,{dehydratedView:g});Va(p,m,0,si(h,g))}else o.firstUpdatePass&&bC(p),Tm(p,0)}}}finally{N(t)}}function Ma(e,t){return e[t]}function vI(e,t){if(e.length<=le)return;let n=le+t,r=e[n],o=r?r[Yn]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[Kt];TE(i,o),tr.delete(r[Jt]),o.detachedLeaveAnimationFns=void 0}}function yI(e,t){if(e.length<=le)return;let n=le+t,r=e[n],o=r?r[Yn]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function _I(e,t){return ci(e,t)}function wI(e,t){return Dm(e,t)}function ld(e,t){return ti(e,t)}function to(e,t,n){let r=B(),o=wn();if(rn(r,o,t)){let i=be(),s=ri();fm(s,r,e,t,r[te],n)}return to}function ud(e,t,n,r,o){Ad(t,e,n,o?"class":"style",r)}function M(e,t,n,r){let o=B(),i=o[O],s=e+Me,a=i.firstCreatePass?Om(s,o,2,t,YE,Rp(),n,r):i.data[s];if(pm(a,o,e,t,Gm),Xs(a)){let c=o[O];dm(c,o,a),Kg(c,a,o)}return r!=null&&xd(o,a),M}function A(){let e=be(),t=$e(),n=gm(t);return e.firstCreatePass&&km(e,n),yu(n)&&_u(),vu(),n.classesWithoutHost!=null&&Fb(n)&&ud(e,n,B(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&jb(n)&&ud(e,n,B(),n.stylesWithoutHost,!1),A}function En(e,t,n,r){return M(e,t,n,r),A(),En}function ue(e,t,n,r){let o=B(),i=o[O],s=e+Me,a=i.firstCreatePass?LC(s,i,2,t,n,r):i.data[s];return pm(a,o,e,t,Gm),r!=null&&xd(o,a),ue}function Ae(){let e=$e(),t=gm(e);return yu(t)&&_u(),vu(),Ae}function Ga(e,t,n,r){return ue(e,t,n,r),Ae(),Ga}var Gm=(e,t,n,r,o)=>(sa(!0),Qg(t[te],r,zp()));function no(){return B()}function ro(e,t,n){let r=B(),o=wn();if(rn(r,o,t)){let i=be(),s=ri();hm(s,r,e,t,r[te],n)}return ro}var gi="en-US";var bI=gi;function Wm(e){typeof e=="string"&&(bI=e.toLowerCase().replace(/_/g,"-"))}function Re(e,t,n){let r=B(),o=be(),i=$e();return Km(o,r,r[te],i,e,t,n),Re}function oo(e,t,n){let r=B(),o=be(),i=$e();return(i.type&3||n)&&Pm(i,o,r,n,r[te],e,t,ha(i,r,t)),oo}function Km(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=ha(r,t,i),Pm(r,e,t,s,n,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],h=u[d+1];c??=ha(r,t,i),fg(r,t,p,h,o,c)}if(l&&l.length)for(let d of l)c??=ha(r,t,i),fg(r,t,d,o,o,c)}}function pe(e=1){return Bp(e)}function la(e,t){return e<<17|t<<2}function or(e){return e>>17&32767}function EI(e){return(e&2)==2}function CI(e,t){return e&131071|t<<17}function dd(e){return e|2}function Yr(e){return(e&131068)>>2}function $u(e,t){return e&-131069|t<<2}function II(e){return(e&1)===1}function fd(e){return e|1}function SI(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=or(s),c=Yr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Lr(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=or(e[a+1]);e[r+1]=la(p,a),p!==0&&(e[p+1]=$u(e[p+1],r)),e[a+1]=CI(e[a+1],r)}else e[r+1]=la(a,0),a!==0&&(e[a+1]=$u(e[a+1],r)),a=r;else e[r+1]=la(c,0),a===0?a=r:e[c+1]=$u(e[c+1],r),c=r;l&&(e[r+1]=dd(e[r+1])),yg(e,u,r,!0),yg(e,u,r,!1),DI(t,u,e,r,i),s=la(a,c),i?t.classBindings=s:t.styleBindings=s}function DI(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Lr(i,t)>=0&&(n[r+1]=fd(n[r+1]))}function yg(e,t,n,r){let o=e[n+1],i=t===null,s=r?or(o):Yr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];TI(c,t)&&(a=!0,e[s+1]=r?fd(l):dd(l)),s=r?or(l):Yr(l)}a&&(e[n+1]=r?dd(o):fd(o))}function TI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Lr(e,t)>=0:!1}var Et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MI(e){return e.substring(Et.key,Et.keyEnd)}function xI(e){return AI(e),Qm(e,Jm(e,0,Et.textEnd))}function Qm(e,t){let n=Et.textEnd;return n===t?-1:(t=Et.keyEnd=RI(e,Et.key=t,n),Jm(e,t,n))}function AI(e){Et.key=0,Et.keyEnd=0,Et.value=0,Et.valueEnd=0,Et.textEnd=e.length}function Jm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function RI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Ze(e,t){return OI(e,t,null,!0),Ze}function Wa(e){kI(UI,NI,e,!0)}function NI(e,t){for(let n=xI(t);n>=0;n=Qm(t,n))Js(e,MI(t),!0)}function OI(e,t,n,r){let o=B(),i=be(),s=Iu(2);if(i.firstUpdatePass&&Zm(i,e,s,r),t!==It&&rn(o,s,t)){let a=i.data[Yt()];Xm(i,a,o,o[te],e,o[s+1]=HI(t,n),r,s)}}function kI(e,t,n,r){let o=be(),i=Iu(2);o.firstUpdatePass&&Zm(o,null,i,r);let s=B();if(n!==It&&rn(s,i,n)){let a=o.data[Yt()];if(ev(a,r)&&!Ym(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=zs(c,n||"")),ud(o,a,s,n,r)}else $I(o,a,s,s[te],s[i+1],s[i+1]=VI(e,t,n),r,i)}}function Ym(e,t){return t>=e.expandoStartIndex}function Zm(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Yt()],s=Ym(e,n);ev(i,r)&&t===null&&!s&&(t=!1),t=PI(o,i,t,r),SI(o,i,t,n,s,r)}}function PI(e,t,n,r){let o=Vp(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Hu(null,e,t,n,r),n=ui(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Hu(o,e,t,n,r),i===null){let c=LI(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Hu(null,e,t,c[1],r),c=ui(c,t.attrs,r),FI(e,t,r,c))}else i=jI(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function LI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Yr(r)!==0)return e[or(r)]}function FI(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[or(o)]=r}function jI(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ui(r,s,n)}return ui(r,t.attrs,n)}function Hu(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=ui(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ui(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Js(e,s,n?!0:t[++i]))}return e===void 0?null:e}function VI(e,t,n){if(n==null||n==="")return Ve;let r=[],o=_d(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function UI(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Js(e,r,n)}function $I(e,t,n,r,o,i,s,a){o===It&&(o=Ve);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;u!==null||d!==null;){let p=c<o.length?o[c+1]:void 0,h=l<i.length?i[l+1]:void 0,g=null,m;u===d?(c+=2,l+=2,p!==h&&(g=d,m=h)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,m=h),g!==null&&Xm(e,t,n,r,g,m,s,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null}}function Xm(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=II(l)?_g(c,t,n,o,Yr(l),s):void 0;if(!xa(u)){xa(i)||EI(l)&&(i=_g(c,null,n,o,a,s));let d=hu(Yt(),n);HE(r,s,d,o,i)}}function _g(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===It&&(p=d?Ve:void 0);let h=d?Ys(p,r):u===r?p:void 0;if(l&&!xa(h)&&(h=Ys(c,r)),xa(h)&&(a=h,s))return a;let g=e[o+1];o=s?or(g):Yr(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Ys(c,r))}return a}function xa(e){return e!==void 0}function HI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Wt(_d(e)))),e}function ev(e,t){return(e.flags&(t?8:16))!==0}function S(e,t=""){let n=B(),r=be(),o=e+Me,i=r.firstCreatePass?Ua(r,o,1,t,null):r.data[o],s=BI(r,n,i,t,e);n[o]=s,ia()&&Td(r,n,s,i),Br(i,!1)}var BI=(e,t,n,r,o)=>(sa(!0),sE(t[te],r));function zI(e,t,n,r=""){return rn(e,wn(),n)?t+Ws(n)+r:It}function ct(e){return Ke("",e),ct}function Ke(e,t,n){let r=B(),o=zI(r,e,t,n);return o!==It&&qI(r,Yt(),o),Ke}function qI(e,t,n){let r=hu(t,e);aE(e[te],r,n)}function Cn(e,t,n){Pd(t)&&(t=t());let r=B(),o=wn();if(rn(r,o,t)){let i=be(),s=ri();fm(s,r,e,t,r[te],n)}return Cn}function cr(e,t){let n=Pd(e);return n&&e.set(t),n}function In(e,t){let n=B(),r=be(),o=$e();return Km(r,n,n[te],o,e,t),In}function wg(e,t,n){let r=be();r.firstCreatePass&&tv(t,r.data,r.blueprint,kt(e),n)}function tv(e,t,n,r,o){if(e=De(e),Array.isArray(e))for(let i=0;i<e.length;i++)tv(e[i],t,n,r,o);else{let i=be(),s=B(),a=$e(),c=Hn(e)?e:De(e.provide),l=cu(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Hn(e)||!e.multi){let h=new er(l,o,G,null),g=zu(c,t,o?u:u+p,d);g===-1?(Gu(va(a,s),i,c),Bu(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=zu(c,t,u+p,d),g=zu(c,t,u,u+p),m=h>=0&&n[h],v=g>=0&&n[g];if(o&&!v||!o&&!m){Gu(va(a,s),i,c);let y=KI(o?WI:GI,n.length,o,r,l,e);!o&&v&&(n[g].providerFactory=y),Bu(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=nv(n[o?g:h],l,!o&&r);Bu(i,e,h>-1?h:g,y)}!o&&r&&v&&n[g].componentProviders++}}}function Bu(e,t,n,r){let o=Hn(t),i=_p(t);if(o||i){let c=(i?De(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function nv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function zu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function GI(e,t,n,r,o){return hd(this.multi,[])}function WI(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ya(r,r[O],this.providerFactory.index,o);s=c.slice(0,a),hd(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],hd(i,s);return s}function hd(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function KI(e,t,n,r,o,i){let s=new er(e,n,G,null);return s.multi=[],s.index=t,s.componentProviders=0,nv(s,o,r&&!n),s}function Sn(e,t){return n=>{n.providersResolver=(r,o)=>wg(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>wg(r,o?o(t):t,!0))}}var Aa=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Hd=(()=>{class e{compileModuleSync(n){return new Sa(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Xl(n),i=Xg(o.declarations).reduce((s,a)=>{let c=gn(a);return c&&s.push(new Qr(c)),s},[]);return new Aa(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rv=(()=>{class e{applicationErrorHandler=_(Lt);appRef=_(sn);taskService=_(Xt);ngZone=_(ce);zonelessEnabled=_(zr);tracing=_(sr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(ca,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ru:Au;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ru(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ov(){return[{provide:pn,useExisting:rv},{provide:ce,useClass:Go},{provide:zr,useValue:!0}]}function QI(){return typeof $localize<"u"&&$localize.locale||gi}var Bd=new D("",{factory:()=>_(Bd,{optional:!0,skipSelf:!0})||QI()});function Pe(e,t){return fs(e,t?.equal)}var sv=Symbol("InputSignalNode#UNSET"),oS=U(w({},hs),{transformFn:void 0,applyValueToInputSignal(e,t){Lo(e,t)}});function av(e,t){let n=Object.create(oS);n.value=e,n.transformFn=t?.transform;function r(){if(Oo(n),n.value===sv){let o=null;throw new I(-950,o)}return n.value}return r[Le]=n,r}function iv(e,t){return av(e,t)}function iS(e){return av(sv,e)}var cv=(iv.required=iS,iv);var sS=(()=>{class e{zone=_(ce);changeDetectionScheduler=_(pn);applicationRef=_(sn);applicationErrorHandler=_(Lt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aS=new D("",{factory:()=>!1});function cS({ngZoneFactory:e,scheduleInRootZone:t}){return e??=()=>new ce(U(w({},uv()),{scheduleInRootZone:t})),[{provide:zr,useValue:!1},{provide:ce,useFactory:e},{provide:vn,multi:!0,useFactory:()=>{let n=_(sS,{optional:!0});return()=>n.initialize()}},{provide:vn,multi:!0,useFactory:()=>{let n=_(lS);return()=>{n.initialize()}}},{provide:ca,useValue:t??xu}]}function lv(e){let t=e?.scheduleInRootZone,n=cS({ngZoneFactory:()=>{let r=uv(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&nn("NgZone_CoalesceEvent"),new ce(r)},scheduleInRootZone:t});return Fr([{provide:aS,useValue:!0},n])}function uv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lS=(()=>{class e{subscription=new me;initialized=!1;zone=_(ce);pendingTasks=_(Xt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zd=new D(""),uS=new D("");function mi(e){return!e.moduleRef}function dS(e){let t=mi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ce);return n.run(()=>{mi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Lt),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),mi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(zd);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(zd);s.add(i),e.moduleRef.onDestroy(()=>{ii(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return hS(r,n,()=>{let i=t.get(Xt),s=i.add(),a=t.get(Fd);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Bd,gi);if(Wm(c||gi),!t.get(uS,!0))return mi(e)?t.get(sn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(mi(e)){let u=t.get(sn);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return fS?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var fS;function hS(e,t,n){try{let r=n();return ar(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Ka=null;function pS(e=[],t){return nt.create({name:t,providers:[{provide:Jo,useValue:"platform"},{provide:zd,useValue:new Set([()=>Ka=null])},...e]})}function gS(e=[]){if(Ka)return Ka;let t=pS(e);return Ka=t,zm(),mS(t),t}function mS(e){let t=e.get(Na,null);Ue(e,()=>{t?.forEach(n=>n())})}var vi=(()=>{class e{static __NG_ELEMENT_ID__=vS}return e})();function vS(e){return yS($e(),B(),(e&16)===16)}function yS(e,t,n){if(_n(e)&&!n){let r=st(e.index,t);return new nr(r,r)}else if(e.type&175){let r=t[qe];return new nr(r,t)}return null}function dv(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;Y(q.BootstrapApplicationStart);try{let i=o?.injector??gS(r),s=[ov(),Wp,...n||[]],a=new li({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return dS({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{Y(q.BootstrapApplicationEnd)}}function Qa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var fv=null;function ut(){return fv}function qd(e){fv??=e}var yi=class{},Ja=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(hv),providedIn:"platform"})}return e})();var hv=(()=>{class e extends Ja{_location;_history;_doc=_(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ut().getBaseHref(this._doc)}onPopState(n){let r=ut().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ut().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function mv(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function pv(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Dn(e){return e&&e[0]!=="?"?`?${e}`:e}var Ya=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(wS),providedIn:"root"})}return e})(),_S=new D(""),wS=(()=>{class e extends Ya{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Dn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Dn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(F(Ja),F(_S,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),io=(()=>{class e{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=CS(pv(gv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Dn(r))}normalize(n){return e.stripTrailingSlash(ES(this._basePath,gv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Dn;static joinWithSlash=mv;static stripTrailingSlash=pv;static \u0275fac=function(r){return new(r||e)(F(Ya))};static \u0275prov=T({token:e,factory:()=>bS(),providedIn:"root"})}return e})();function bS(){return new io(F(Ya))}function ES(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function gv(e){return e.replace(/\/index.html$/,"")}function CS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Gd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var _i=class{};var vv="browser";var wi=class{_doc;constructor(t){this._doc=t}manager},Za=(()=>{class e extends wi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(F(Ee))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),tc=new D(""),Jd=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Za));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Za);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(F(tc),F(ce))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Wd="ng-app-id";function yv(e){for(let t of e)t.remove()}function _v(e,t){let n=t.createElement("style");return n.textContent=e,n}function IS(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Wd}="${t}"],link[${Wd}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Wd),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Qd(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Yd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,IS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,_v);r?.forEach(o=>this.addUsage(o,this.external,Qd))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(yv(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])yv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,_v(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Qd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(F(Ee),F(Ra),F(Oa,8),F(fi))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Kd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zd=/%COMP%/g;var bv="%COMP%",SS=`_nghost-${bv}`,DS=`_ngcontent-${bv}`,TS=!0,MS=new D("",{factory:()=>TS});function xS(e){return DS.replace(Zd,e)}function AS(e){return SS.replace(Zd,e)}function Ev(e,t){return t.map(n=>n.replace(Zd,e))}var Xd=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new bi(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof ec?o.applyToHost(n):o instanceof Ei&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Ct.Emulated:i=new ec(c,l,r,this.appId,u,s,a,d);break;case Ct.ShadowDom:return new Xa(c,n,r,s,a,this.nonce,d,l);case Ct.ExperimentalIsolatedShadowDom:return new Xa(c,n,r,s,a,this.nonce,d);default:i=new Ei(c,l,r,u,s,a,d);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(F(Jd),F(Yd),F(Ra),F(MS),F(Ee),F(ce),F(Oa),F(sr,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),bi=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Kd[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(wv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(wv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Kd[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Kd[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(en.DashCase|en.Important)?t.style.setProperty(n,r,o&en.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&en.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=ut().getGlobalEventTarget(this.doc,t),!t))throw new I(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function wv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Xa=class extends bi{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Ev(r.id,l);for(let d of l){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=d,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let d of u){let p=Qd(d,o);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ei=class extends bi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=c?Ev(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&tr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ec=class extends Ei{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,l),this.contentAttr=xS(l),this.hostAttr=AS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var nc=class e extends yi{supportsDOMEvents=!0;static makeCurrent(){qd(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=RS();return n==null?null:NS(n)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Gd(document.cookie,t)}},Ci=null;function RS(){return Ci=Ci||document.head.querySelector("base"),Ci?Ci.getAttribute("href"):null}function NS(e){return new URL(e,document.baseURI).pathname}var OS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Cv=["alt","control","meta","shift"],kS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Iv=(()=>{class e extends wi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ut().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Cv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=kS[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Cv.forEach(s=>{if(s!==o){let a=PS[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(F(Ee))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function ef(e,t,n){let r=w({rootComponent:e,platformRef:n?.platformRef},LS(t));return dv(r)}function LS(e){return{appProviders:[...$S,...e?.providers??[]],platformProviders:US}}function FS(){nc.makeCurrent()}function jS(){return new Nt}function VS(){return vd(document),document}var US=[{provide:fi,useValue:vv},{provide:Na,useValue:FS,multi:!0},{provide:Ee,useFactory:VS}];var $S=[{provide:Jo,useValue:"root"},{provide:Nt,useFactory:jS},{provide:tc,useClass:Za,multi:!0},{provide:tc,useClass:Iv,multi:!0},Xd,Yd,Jd,{provide:rr,useExisting:Xd},{provide:_i,useClass:OS},[]];var Sv=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(F(Ee))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var L="primary",ki=Symbol("RouteTitle"),sf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function uo(e){return new sf(e)}function BS(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function cc(e){return new Promise((t,n)=>{e.pipe(qt()).subscribe({next:r=>t(r),error:r=>n(r)})})}function zS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ut(e[n],t[n]))return!1;return!0}function Ut(e,t){let n=e?af(e):void 0,r=t?af(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!kv(e[o],t[o]))return!1;return!0}function af(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Pv(e){return e.length>0?e[e.length-1]:null}function pr(e){return Os(e)?e:ar(e)?fe(Promise.resolve(e)):H(e)}function Lv(e){return Os(e)?cc(e):Promise.resolve(e)}var qS={exact:jv,subset:Vv},Fv={exact:GS,subset:WS,ignored:()=>!0};function Dv(e,t,n){return qS[n.paths](e.root,t.root,n.matrixParams)&&Fv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function GS(e,t){return Ut(e,t)}function jv(e,t,n){if(!dr(e.segments,t.segments)||!ic(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!jv(e.children[r],t.children[r],n))return!1;return!0}function WS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>kv(e[n],t[n]))}function Vv(e,t,n){return Uv(e,t,t.segments,n)}function Uv(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!dr(o,n)||t.hasChildren()||!ic(o,n,r))}else if(e.segments.length===n.length){if(!dr(e.segments,n)||!ic(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!Vv(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!dr(e.segments,o)||!ic(e.segments,o,r)||!e.children[L]?!1:Uv(e.children[L],t,i,r)}}function ic(e,t,n){return t.every((r,o)=>Fv[n](e[o].parameters,r.parameters))}var $t=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return JS.serialize(this)}},Z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sc(this)}},ur=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return Hv(this)}};function KS(e,t){return dr(e,t)&&e.every((n,r)=>Ut(n.parameters,t[r].parameters))}function dr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function QS(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===L&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==L&&(n=n.concat(t(o,r)))}),n}var _c=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new fr,providedIn:"root"})}return e})(),fr=class{parse(t){let n=new lf(t);return new $t(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ii(t.root,!0)}`,r=XS(t.queryParams),o=typeof t.fragment=="string"?`#${YS(t.fragment)}`:"";return`${n}${r}${o}`}},JS=new fr;function sc(e){return e.segments.map(t=>Hv(t)).join("/")}function Ii(e,t){if(!e.hasChildren())return sc(e);if(t){let n=e.children[L]?Ii(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==L&&r.push(`${o}:${Ii(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=QS(e,(r,o)=>o===L?[Ii(e.children[L],!1)]:[`${o}:${Ii(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${sc(e)}/${n[0]}`:`${sc(e)}/(${n.join("//")})`}}function $v(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rc(e){return $v(e).replace(/%3B/gi,";")}function YS(e){return encodeURI(e)}function cf(e){return $v(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ac(e){return decodeURIComponent(e)}function Tv(e){return ac(e.replace(/\+/g,"%20"))}function Hv(e){return`${cf(e.path)}${ZS(e.parameters)}`}function ZS(e){return Object.entries(e).map(([t,n])=>`;${cf(t)}=${cf(n)}`).join("")}function XS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${rc(n)}=${rc(o)}`).join("&"):`${rc(n)}=${rc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var eD=/^[^\/()?;#]+/;function tf(e){let t=e.match(eD);return t?t[0]:""}var tD=/^[^\/()?;=#]+/;function nD(e){let t=e.match(tD);return t?t[0]:""}var rD=/^[^=?&#]+/;function oD(e){let t=e.match(rD);return t?t[0]:""}var iD=/^[^&#]+/;function sD(e){let t=e.match(iD);return t?t[0]:""}var lf=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new Z(t,n)),r}parseSegment(){let t=tf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new ur(ac(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=nD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=tf(this.remaining);o&&(r=o,this.capture(r))}t[ac(n)]=ac(r)}parseQueryParam(t){let n=oD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sD(this.remaining);s&&(r=s,this.capture(r))}let o=Tv(n),i=Tv(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new I(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=L);let s=this.parseChildren();n[i??L]=Object.keys(s).length===1&&s[L]?s[L]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Bv(e){return e.segments.length>0?new Z([],{[L]:e}):e}function zv(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=zv(o);if(r===L&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new Z(e.segments,t);return aD(n)}function aD(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new Z(e.segments.concat(t.segments),t.children)}return e}function fo(e){return e instanceof $t}function cD(e,t,n=null,r=null,o=new fr){let i=qv(e);return Gv(i,t,n,r,o)}function qv(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new Z(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=Bv(r);return t??o}function Gv(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return nf(i,i,i,n,r,o);let s=lD(t);if(s.toRoot())return nf(i,i,new Z([],{}),n,r,o);let a=uD(s,i,e),c=a.processChildren?Di(a.segmentGroup,a.index,s.commands):Kv(a.segmentGroup,a.index,s.commands);return nf(i,a.segmentGroup,c,n,r,o)}function lc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function xi(e){return typeof e=="object"&&e!=null&&e.outlets}function Mv(e,t,n){e||="\u0275";let r=new $t;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function nf(e,t,n,r,o,i){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>Mv(l,d,i)):Mv(l,u,i);let a;e===t?a=n:a=Wv(e,t,n);let c=Bv(zv(a));return new $t(c,s,o)}function Wv(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=Wv(i,t,n)}),new Z(e.segments,r)}var uc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&lc(r[0]))throw new I(4003,!1);let o=r.find(xi);if(o&&o!==Pv(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lD(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new uc(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new uc(n,t,r)}var ao=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function uD(e,t,n){if(e.isAbsolute)return new ao(t,!0,0);if(!n)return new ao(t,!1,NaN);if(n.parent===null)return new ao(n,!0,0);let r=lc(e.commands[0])?0:1,o=n.segments.length-1+r;return dD(n,o,e.numberOfDoubleDots)}function dD(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new I(4005,!1);o=r.segments.length}return new ao(r,!1,o-i)}function fD(e){return xi(e[0])?e[0].outlets:{[L]:e}}function Kv(e,t,n){if(e??=new Z([],{}),e.segments.length===0&&e.hasChildren())return Di(e,t,n);let r=hD(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Z(e.segments.slice(0,r.pathIndex),{});return i.children[L]=new Z(e.segments.slice(r.pathIndex),e.children),Di(i,0,o)}else return r.match&&o.length===0?new Z(e.segments,{}):r.match&&!e.hasChildren()?uf(e,t,n):r.match?Di(e,0,o):uf(e,t,n)}function Di(e,t,n){if(n.length===0)return new Z(e.segments,{});{let r=fD(n),o={};if(Object.keys(r).some(i=>i!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let i=Di(e.children[L],t,n);return new Z(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Kv(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Z(e.segments,o)}}function hD(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(xi(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Av(c,l,s))return i;r+=2}else{if(!Av(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function uf(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(xi(i)){let c=pD(i.outlets);return new Z(r,c)}if(o===0&&lc(n[0])){let c=e.segments[t];r.push(new ur(c.path,xv(n[0]))),o++;continue}let s=xi(i)?i.outlets[L]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&lc(a)?(r.push(new ur(s,xv(a))),o+=2):(r.push(new ur(s,{})),o++)}return new Z(r,{})}function pD(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=uf(new Z([],{}),0,r))}),t}function xv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Av(e,t,n){return e==n.path&&Ut(t,n.parameters)}var Ti="imperative",Ne=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Ne||{}),dt=class{id;url;constructor(t,n){this.id=t,this.url=n}},ho=class extends dt{type=Ne.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends dt{urlAfterRedirects;type=Ne.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Qe||{}),dc=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(dc||{}),an=class extends dt{reason;code;type=Ne.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mn=class extends dt{reason;code;type=Ne.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Ai=class extends dt{error;target;type=Ne.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fc=class extends dt{urlAfterRedirects;state;type=Ne.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends dt{urlAfterRedirects;state;type=Ne.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ff=class extends dt{urlAfterRedirects;state;shouldActivate;type=Ne.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hf=class extends dt{urlAfterRedirects;state;type=Ne.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends dt{urlAfterRedirects;state;type=Ne.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class{route;type=Ne.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mf=class{route;type=Ne.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vf=class{snapshot;type=Ne.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{snapshot;type=Ne.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{snapshot;type=Ne.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{snapshot;type=Ne.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ri=class{},po=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function gD(e){return!(e instanceof Ri)&&!(e instanceof po)}function mD(e,t){return e.providers&&!e._injector&&(e._injector=pi(e.providers,t,`Route: ${e.path}`)),e._injector??t}function St(e){return e.outlet||L}function vD(e,t){let n=e.filter(r=>St(r)===t);return n.push(...e.filter(r=>St(r)!==t)),n}function mo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return mo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Pi(this.rootInjector)}},Pi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(F(Te))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ef(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Ef(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Cf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Cf(t,this._root).map(n=>n.value)}};function Ef(e,t){if(e===t.value)return t;for(let n of t.children){let r=Ef(e,n);if(r)return r}return null}function Cf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Cf(e,n);if(r.length)return r.unshift(t),r}return[]}var Xe=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function so(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var pc=class extends hc{snapshot;constructor(t,n){super(t),this.snapshot=n,Af(this,t)}toString(){return this.snapshot.toString()}};function Qv(e){let t=yD(e),n=new Se([new ur("",{})]),r=new Se({}),o=new Se({}),i=new Se({}),s=new Se(""),a=new hr(n,r,i,s,o,L,e,t.root);return a.snapshot=t.root,new pc(new Xe(a,[]),t)}function yD(e){let t={},n={},r={},i=new co([],t,r,"",n,L,e,null,{});return new mc("",new Xe(i,[]))}var hr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[ki]))??H(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(t=>uo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(t=>uo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gc(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&Yv(o)&&(r.resolve[ki]=o.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ki]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},mc=class extends hc{url;constructor(t,n){super(n),this.url=t,Af(this,n)}toString(){return Jv(this._root)}};function Af(e,t){t.value._routerState=e,t.children.forEach(n=>Af(e,n))}function Jv(e){let t=e.children.length>0?` { ${e.children.map(Jv).join(", ")} } `:"";return`${e.value}${t}`}function rf(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ut(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ut(t.params,n.params)||e.paramsSubject.next(n.params),zS(t.url,n.url)||e.urlSubject.next(n.url),Ut(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function If(e,t){let n=Ut(e.params,t.params)&&KS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||If(e.parent,t.parent))}function Yv(e){return typeof e.title=="string"||e.title===null}var _D=new D(""),Zv=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=cv();parentContexts=_(Pi);location=_(Ha);changeDetector=_(vi);inputBinder=_(wc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Sf(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zr]})}return e})(),Sf=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===hr?this.route:t===Pi?this.childContexts:t===_D?this.outletData:this.parent.get(t,n)}},wc=new D("");var Xv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=on({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&En(0,"router-outlet")},dependencies:[Zv],encapsulation:2})}return e})();function Rf(e){let t=e.children&&e.children.map(Rf),n=t?U(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=Xv),n}function wD(e,t,n){let r=Ni(e,t._root,n?n._root:void 0);return new pc(r,t)}function Ni(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=bD(e,t,n);return new Xe(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ni(e,a)),s}}let r=ED(t.value),o=t.children.map(i=>Ni(e,i));return new Xe(r,o)}}function bD(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ni(e,r,o);return Ni(e,r)})}function ED(e){return new hr(new Se(e.url),new Se(e.params),new Se(e.queryParams),new Se(e.fragment),new Se(e.data),e.outlet,e.component,e)}var Oi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ey="ngNavigationCancelingError";function vc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=fo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=ty(!1,Qe.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function ty(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ey]=!0,n.cancellationCode=t,n}function CD(e){return ny(e)&&fo(e.url)}function ny(e){return!!e&&e[ey]}var ID=(e,t,n,r)=>ee(o=>(new Df(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Df=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),rf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=so(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=so(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=so(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=so(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new wf(i.value.snapshot))}),t.children.length&&this.forwardEvent(new yf(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(rf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rf(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},yc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},lo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function SD(e,t,n){let r=e._root,o=t?t._root:null;return Si(r,o,n,[r.value])}function DD(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function vo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Wl(e)?e:t.get(e):r}function Si(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=so(t);return e.children.forEach(s=>{TD(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Mi(a,n.getContext(s),o)),o}function TD(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=MD(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new yc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Si(e,t,a?a.children:null,r,o):Si(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new lo(a.outlet.component,s))}else s&&Mi(t,a,o),o.canActivateChecks.push(new yc(r)),i.component?Si(e,null,a?a.children:null,r,o):Si(e,null,n,r,o);return o}function MD(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!dr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!dr(e.url,t.url)||!Ut(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!If(e,t)||!Ut(e.queryParams,t.queryParams);case"paramsChange":default:return!If(e,t)}}function Mi(e,t,n){let r=so(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Mi(s,t.children.getContext(i),n):Mi(s,null,n):Mi(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new lo(t.outlet.component,o)):n.canDeactivateChecks.push(new lo(null,o)):n.canDeactivateChecks.push(new lo(null,o))}function Li(e){return typeof e=="function"}function xD(e){return typeof e=="boolean"}function AD(e){return e&&Li(e.canLoad)}function RD(e){return e&&Li(e.canActivate)}function ND(e){return e&&Li(e.canActivateChild)}function OD(e){return e&&Li(e.canDeactivate)}function kD(e){return e&&Li(e.canMatch)}function ry(e){return e instanceof jn||e?.name==="EmptyError"}var oc=Symbol("INITIAL_VALUE");function go(){return At(e=>Sl(e.map(t=>t.pipe(zt(1),xl(oc)))).pipe(ee(t=>{for(let n of t)if(n!==!0){if(n===oc)return oc;if(n===!1||PD(n))return n}return!0}),xt(t=>t!==oc),zt(1)))}function PD(e){return fo(e)||e instanceof Oi}function oy(e){return e.aborted?H(void 0).pipe(zt(1)):new z(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function iy(e){return $o(oy(e))}function LD(e,t){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?H(U(w({},n),{guardsResult:!0})):FD(s,r,o,e).pipe(Fe(a=>a&&xD(a)?jD(r,i,e,t):H(a)),ee(a=>U(w({},n),{guardsResult:a})))})}function FD(e,t,n,r){return fe(e).pipe(Fe(o=>BD(o.component,o.route,n,t,r)),qt(o=>o!==!0,!0))}function jD(e,t,n,r){return fe(t).pipe(Fs(o=>Or(UD(o.route.parent,r),VD(o.route,r),HD(e,o.path,n),$D(e,o.route,n))),qt(o=>o!==!0,!0))}function VD(e,t){return e!==null&&t&&t(new _f(e)),H(!0)}function UD(e,t){return e!==null&&t&&t(new vf(e)),H(!0)}function $D(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let o=r.map(i=>Vo(()=>{let s=mo(t)??n,a=vo(i,s),c=RD(a)?a.canActivate(t,e):Ue(s,()=>a(t,e));return pr(c).pipe(qt())}));return H(o).pipe(go())}function HD(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>DD(s)).filter(s=>s!==null).map(s=>Vo(()=>{let a=s.guards.map(c=>{let l=mo(s.node)??n,u=vo(c,l),d=ND(u)?u.canActivateChild(r,e):Ue(l,()=>u(r,e));return pr(d).pipe(qt())});return H(a).pipe(go())}));return H(i).pipe(go())}function BD(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return H(!0);let s=i.map(a=>{let c=mo(t)??o,l=vo(a,c),u=OD(l)?l.canDeactivate(e,t,n,r):Ue(c,()=>l(e,t,n,r));return pr(u).pipe(qt())});return H(s).pipe(go())}function zD(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return H(!0);let s=i.map(a=>{let c=vo(a,e),l=AD(c)?c.canLoad(t,n):Ue(e,()=>c(t,n)),u=pr(l);return o?u.pipe(iy(o)):u});return H(s).pipe(go(),sy(r))}function sy(e){return bl(je(t=>{if(typeof t!="boolean")throw vc(e,t)}),ee(t=>t===!0))}function qD(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return H(!0);let s=i.map(a=>{let c=vo(a,e),l=kD(c)?c.canMatch(t,n):Ue(e,()=>c(t,n)),u=pr(l);return o?u.pipe(iy(o)):u});return H(s).pipe(go(),sy(r))}var lr=class ay extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,ay.prototype)}},Tf=class cy extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,cy.prototype)}};function GD(e){throw new I(4e3,!1)}function WD(e){throw ty(!1,Qe.GuardRejected)}var KD=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){return f(this,null,function*(){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[L])throw GD(`${t.redirectTo}`);o=o.children[L]}})}applyRedirectCommands(t,n,r,o,i){return f(this,null,function*(){let s=yield QD(n,o,i);if(s instanceof $t)throw new Tf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Tf(a);return a})}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new $t(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new Z(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new I(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function QD(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return cc(pr(Ue(n,()=>r({params:l,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d}))))}var Mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JD(e,t,n,r,o,i){let s=ly(e,t,n);return s.matched?(r=mD(t,r),qD(r,t,n,o,i).pipe(ee(a=>a===!0?s:w({},Mf)))):H(s)}function ly(e,t,n){if(t.path==="**")return YD(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Mf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||BS)(n,e,t);if(!o)return w({},Mf);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function YD(e){return{matched:!0,parameters:e.length>0?Pv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Rv(e,t,n,r){return n.length>0&&eT(e,n,r)?{segmentGroup:new Z(t,XD(r,new Z(n,e.children))),slicedSegments:[]}:n.length===0&&tT(e,n,r)?{segmentGroup:new Z(e.segments,ZD(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Z(e.segments,e.children),slicedSegments:n}}function ZD(e,t,n,r){let o={};for(let i of n)if(bc(e,t,i)&&!r[St(i)]){let s=new Z([],{});o[St(i)]=s}return w(w({},r),o)}function XD(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&St(r)!==L){let o=new Z([],{});n[St(r)]=o}return n}function eT(e,t,n){return n.some(r=>bc(e,t,r)&&St(r)!==L)}function tT(e,t,n){return n.some(r=>bc(e,t,r))}function bc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nT(e,t,n){return t.length===0&&!e.children[n]}var rT=class{};function oT(e,t,n,r,o,i,s="emptyOnly",a){return f(this,null,function*(){return new sT(e,t,n,r,o,s,i,a).recognize()})}var iT=31,sT=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new KD(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){return f(this,null,function*(){let t=Rv(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=yield this.match(t),o=new Xe(r,n),i=new mc("",o),s=cD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}})}match(t){return f(this,null,function*(){let n=new co([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,L,n),rootSnapshot:n}}catch(r){if(r instanceof Tf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lr?this.noMatchError(r):r}})}processSegmentGroup(t,n,r,o,i){return f(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=yield this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof Xe?[s]:[]})}processChildren(t,n,r,o){return f(this,null,function*(){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let l=r.children[c],u=vD(n,c),d=yield this.processSegmentGroup(t,u,l,c,o);s.push(...d)}let a=uy(s);return aT(a),a})}processSegment(t,n,r,o,i,s,a){return f(this,null,function*(){for(let c of n)try{return yield this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(l){if(l instanceof lr||ry(l))continue;throw l}if(nT(r,o,i))return new rT;throw new lr(r)})}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return f(this,null,function*(){if(St(r)!==s&&(s===L||!bc(o,i,r)))throw new lr(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new lr(o)})}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){return f(this,null,function*(){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=ly(n,o,i);if(!c)throw new lr(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iT&&(this.allowRedirects=!1));let h=new co(i,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(o),St(o),o.component??o._loadedComponent??null,o,Ov(o)),g=gc(h,a,this.paramsInheritanceStrategy);if(h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let m=yield this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,h,t),v=yield this.applyRedirects.lineralizeSegments(o,m);return this.processSegment(t,r,n,v.concat(p),s,!1,a)})}matchSegmentAgainstRoute(t,n,r,o,i,s){return f(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield cc(JD(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new lr(n);t=r._injector??t;let{routes:c}=yield this.getChildConfig(t,r,o),l=r._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:p}=a,h=new co(d,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Nv(r),St(r),r.component??r._loadedComponent??null,r,Ov(r)),g=gc(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=Rv(n,d,p,c);if(v.length===0&&m.hasChildren()){let b=yield this.processChildren(l,c,m,h);return new Xe(h,b)}if(c.length===0&&v.length===0)return new Xe(h,[]);let y=St(r)===i,V=yield this.processSegment(l,c,m,v,y?L:i,!0,h);return new Xe(h,V instanceof Xe?[V]:[])})}getChildConfig(t,n,r){return f(this,null,function*(){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield cc(zD(t,n,r,this.urlSerializer,this.abortSignal))){let i=yield this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,i}throw WD(n)}return{routes:[],injector:t}})}};function aT(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function cT(e){let t=e.value.routeConfig;return t&&t.path===""}function uy(e){let t=[],n=new Set;for(let r of e){if(!cT(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=uy(r.children);t.push(new Xe(r.value,o))}return t.filter(r=>!n.has(r))}function Nv(e){return e.data||{}}function Ov(e){return e.resolve||{}}var lT=new D("",{factory:()=>oT});function uT(e,t,n,r,o,i,s){let a=e.get(lT);return Fe(c=>H(c).pipe(At(l=>a(e,t,n,r,l.extractedUrl,o,i,s)),ee(({state:l,tree:u})=>U(w({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function dT(e,t){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return H(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of dy(c))s.add(l);let a=0;return fe(s).pipe(Fs(c=>i.has(c)?fT(c,r,e,t):(c.data=gc(c,c.parent,e).resolve,H(void 0))),je(()=>a++),js(1),Fe(c=>a===s.size?H(n):Be))})}function dy(e){let t=e.children.map(n=>dy(n)).flat();return[e,...t]}function fT(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!Yv(o)&&(i[ki]=o.title),Vo(()=>(e.data=gc(e,e.parent,n).resolve,hT(i,e,t,r).pipe(ee(s=>(e._resolvedData=s,e.data=w(w({},e.data),s),null)))))}function hT(e,t,n,r){let o=af(e);if(o.length===0)return H({});let i={};return fe(o).pipe(Fe(s=>pT(e[s],t,n,r).pipe(qt(),je(a=>{if(a instanceof Oi)throw vc(new fr,a);i[s]=a}))),js(1),ee(()=>i),Uo(s=>ry(s)?Be:Il(s)))}function pT(e,t,n,r){let o=mo(t)??r,i=vo(e,o),s=i.resolve?i.resolve(t,n):Ue(o,()=>i(t,n));return pr(s)}function of(e){return At(t=>{let n=e(t);return n?fe(n).pipe(ee(()=>t)):H(t)})}var fy=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[ki]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(gT),providedIn:"root"})}return e})(),gT=(()=>{class e extends fy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(F(Sv))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ec=new D("",{factory:()=>({})}),Cc=new D(""),hy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Hd);loadComponent(n,r){return f(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=f(this,null,function*(){try{let i=yield Lv(Ue(n,()=>r.loadComponent())),s=yield gy(py(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,o),o})}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=f(this,null,function*(){try{let i=yield mT(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mT(e,t,n,r){return f(this,null,function*(){let o=yield Lv(Ue(n,()=>e.loadChildren())),i=yield gy(py(o)),s;i instanceof Ba||Array.isArray(i)?s=i:s=yield t.compileModuleAsync(i),r&&r(e);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,c=a.get(Cc,[],{optional:!0,self:!0}).flat()),{routes:c.map(Rf),injector:a}})}function vT(e){return e&&typeof e=="object"&&"default"in e}function py(e){return vT(e)?e.default:e}function gy(e){return f(this,null,function*(){return e})}var Nf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(yT),providedIn:"root"})}return e})(),yT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),my=new D("");var _T=()=>{},vy=new D(""),yy=(()=>{class e{currentNavigation=re(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=re(null);events=new _e;transitionAbortWithErrorSubject=new _e;configLoader=_(hy);environmentInjector=_(Te);destroyRef=_(Zt);urlSerializer=_(_c);rootContexts=_(Pi);location=_(io);inputBindingEnabled=_(wc,{optional:!0})!==null;titleStrategy=_(fy);options=_(Ec,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Nf);createViewTransition=_(my,{optional:!0});navigationErrorHandler=_(vy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new gf(o)),r=o=>this.events.next(new mf(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;xe(()=>{this.transitions?.next(U(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Se(null),this.transitions.pipe(xt(r=>r!==null),At(r=>{let o=!1,i=new AbortController;return H(r).pipe(At(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),Be;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?U(w({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.rawUrl),"",dc.IgnoredSameUrlNavigation)),s.resolve(!1),Be;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return H(s).pipe(At(u=>(this.events.next(new ho(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Be:Promise.resolve(u))),uT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),je(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=u.urlAfterRedirects,p));let d=new fc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:h,extras:g}=s,m=new ho(u,this.urlSerializer.serialize(d),p,h);this.events.next(m);let v=Qv(this.rootComponentType).snapshot;return this.currentTransition=r=U(w({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:U(w({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),H(r)}else return this.events.next(new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",dc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Be}),je(s=>{let a=new df(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=U(w({},s),{guards:SD(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),LD(this.environmentInjector,s=>this.events.next(s)),je(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw vc(this.urlSerializer,s.guardsResult);let a=new ff(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),xt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Qe.GuardRejected),!1)),of(s=>{if(s.guards.canActivateChecks.length!==0)return H(s).pipe(je(a=>{let c=new hf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),At(a=>{let c=!1;return H(a).pipe(dT(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Qe.NoDataFromResolver)}}))}),je(a=>{let c=new pf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),of(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=mo(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(p=>{l.component=p}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?H(s):fe(Promise.all(c).then(()=>s))}),of(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?fe(c).pipe(ee(()=>r)):H(r)}),ee(s=>{let a=wD(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=U(w({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),je(()=>{this.events.next(new Ri)}),ID(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zt(1),$o(oy(i.signal).pipe(xt(()=>!o&&!r.targetRouterState),je(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Qe.Aborted)}))),je({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=_T,a)),this.lastSuccessfulNavigation.set(xe(this.currentNavigation)),this.events.next(new Tn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),$o(this.transitionAbortWithErrorSubject.pipe(je(s=>{throw s}))),Ml(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Uo(s=>{if(this.destroyed)return r.resolve(!1),Be;if(o=!0,ny(s))this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),CD(s)?this.events.next(new po(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ai(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Oi){let{message:l,cancellationCode:u}=vc(this.urlSerializer,c);this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new po(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Be}))}))}cancelNavigationTransition(n,r,o){let i=new an(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=xe(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wT(e){return e!==Ti}var bT=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(ET),providedIn:"root"})}return e})(),xf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ET=(()=>{class e extends xf{static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Of=(()=>{class e{urlSerializer=_(_c);options=_(Ec,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(io);urlHandlingStrategy=_(Nf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $t;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof $t?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=Qv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>_(_y),providedIn:"root"})}return e})(),_y=(()=>{class e extends Of{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ho?this.updateStateMemento():n instanceof Mn?this.commitTransition(r):n instanceof fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ri?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof an&&n.code!==Qe.SupersededByNewNavigation&&n.code!==Qe.Redirect?this.restoreHistory(r):n instanceof Ai?this.restoreHistory(r,!0):n instanceof Tn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wy(e,t){e.events.pipe(xt(n=>n instanceof Tn||n instanceof an||n instanceof Ai||n instanceof Mn),ee(n=>n instanceof Tn||n instanceof Mn?0:(n instanceof an?n.code===Qe.Redirect||n.code===Qe.SupersededByNewNavigation:!1)?2:1),xt(n=>n!==2),zt(1)).subscribe(()=>{t()})}var CT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kf=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(kd);stateManager=_(Of);options=_(Ec,{optional:!0})||{};pendingTasks=_(Xt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(yy);urlSerializer=_(_c);location=_(io);urlHandlingStrategy=_(Nf);injector=_(Te);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(bT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Cc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(wc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=xe(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof an&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tn)this.navigated=!0;else if(r instanceof po){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wT(o.source)},s);this.scheduleNavigation(a,Ti,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}gD(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ti,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Lt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return xe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Rf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=qv(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Gv(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=fo(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ti,null,r)}navigate(n,r={skipLocationChange:!1}){return ST(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Wo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},CT):r===!1?o=w({},IT):o=r,fo(n))return Dv(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Dv(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return wy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ST(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}var DT=new D("");function Pf(e,...t){return Fr([{provide:Cc,multi:!0,useValue:e},[],{provide:hr,useFactory:TT},{provide:za,multi:!0,useFactory:MT},t.map(n=>n.\u0275providers)])}function TT(){return _(kf).routerState.root}function MT(){let e=_(nt);return t=>{let n=e.get(sn);if(t!==n.components[0])return;let r=e.get(kf),o=e.get(xT);e.get(AT)===1&&r.initialNavigation(),e.get(RT,null,{optional:!0})?.setUpPreloading(),e.get(DT,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var xT=new D("",{factory:()=>new _e}),AT=new D("",{factory:()=>1});var RT=new D("");var by=[];var Ey={providers:[lv({eventCoalescing:!0}),Pf(by)]};var Ny=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(G(Xr),G(ir))};static \u0275dir=Ce({type:e})}return e})(),jf=(()=>{class e extends Ny{static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275dir=Ce({type:e,features:[at]})}return e})(),Nc=new D("");var OT={provide:Nc,useExisting:vt(()=>Oc),multi:!0};function kT(){let e=ut()?ut().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var PT=new D(""),Oc=(()=>{class e extends Ny{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!kT())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(G(Xr),G(ir),G(PT,8))};static \u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Re("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Sn([OT]),at]})}return e})();function LT(e){return e==null||FT(e)===0}function FT(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Vf=new D(""),Oy=new D("");function jT(e){return LT(e.value)?{required:!0}:null}function Cy(e){return null}function ky(e){return e!=null}function Py(e){return ar(e)?fe(e):e}function Ly(e){let t={};return e.forEach(n=>{t=n!=null?w(w({},t),n):t}),Object.keys(t).length===0?null:t}function Fy(e,t){return t.map(n=>n(e))}function VT(e){return!e.validate}function jy(e){return e.map(t=>VT(t)?t:n=>t.validate(n))}function UT(e){if(!e)return null;let t=e.filter(ky);return t.length==0?null:function(n){return Ly(Fy(n,t))}}function Uf(e){return e!=null?UT(jy(e)):null}function $T(e){if(!e)return null;let t=e.filter(ky);return t.length==0?null:function(n){let r=Fy(n,t).map(Py);return Dl(r).pipe(ee(Ly))}}function $f(e){return e!=null?$T(jy(e)):null}function Iy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function HT(e){return e._rawValidators}function BT(e){return e._rawAsyncValidators}function Lf(e){return e?Array.isArray(e)?e:[e]:[]}function Sc(e,t){return Array.isArray(e)?e.includes(t):e===t}function Sy(e,t){let n=Lf(t);return Lf(e).forEach(o=>{Sc(n,o)||n.push(o)}),n}function Dy(e,t){return Lf(t).filter(n=>!Sc(e,n))}var Dc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},wo=class extends Dc{name;get formDirective(){return null}get path(){return null}},Hi=class extends Dc{_parent=null;name=null;valueAccessor=null},Tc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Vy=(()=>{class e extends Tc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(G(Hi,2))};static \u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ze("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[at]})}return e})(),Uy=(()=>{class e extends Tc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(G(wo,10))};static \u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ze("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[at]})}return e})();var Fi="VALID",Ic="INVALID",yo="PENDING",ji="DISABLED",xn=class{},Mc=class extends xn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ui=class extends xn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},$i=class extends xn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},_o=class extends xn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ff=class extends xn{source;constructor(t){super(),this.source=t}},xc=class extends xn{source;constructor(t){super(),this.source=t}};function $y(e){return(kc(e)?e.validators:e)||null}function zT(e){return Array.isArray(e)?Uf(e):e||null}function Hy(e,t){return(kc(t)?t.asyncValidators:e)||null}function qT(e){return Array.isArray(e)?$f(e):e||null}function kc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function GT(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function WT(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new I(1002,"")})}var Ac=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return xe(this.statusReactive)}set status(t){xe(()=>this.statusReactive.set(t))}_status=Pe(()=>this.statusReactive());statusReactive=re(void 0);get valid(){return this.status===Fi}get invalid(){return this.status===Ic}get pending(){return this.status==yo}get disabled(){return this.status===ji}get enabled(){return this.status!==ji}errors;get pristine(){return xe(this.pristineReactive)}set pristine(t){xe(()=>this.pristineReactive.set(t))}_pristine=Pe(()=>this.pristineReactive());pristineReactive=re(!0);get dirty(){return!this.pristine}get touched(){return xe(this.touchedReactive)}set touched(t){xe(()=>this.touchedReactive.set(t))}_touched=Pe(()=>this.touchedReactive());touchedReactive=re(!1);get untouched(){return!this.touched}_events=new _e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Sy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Sy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Dy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Dy(t,this._rawAsyncValidators))}hasValidator(t){return Sc(this._rawValidators,t)}hasAsyncValidator(t){return Sc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new $i(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new $i(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ui(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ui(!0,r))}markAsPending(t={}){this.status=yo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _o(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(w({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ji,this.errors=null,this._forEachChild(o=>{o.disable(U(w({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mc(this.value,r)),this._events.next(new _o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fi,this._forEachChild(r=>{r.enable(U(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fi||this.status===yo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mc(this.value,n)),this._events.next(new _o(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(w({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ji:Fi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=Py(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new _o(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?ji:this.errors?Ic:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(Ic)?Ic:Fi}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Ui(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new $i(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=zT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=qT(this._rawAsyncValidators)}},Rc=class extends Ac{constructor(t,n,r){super($y(n),Hy(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){WT(this,!0,t),Object.keys(t).forEach(r=>{GT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,U(w({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new xc(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Hf=new D("",{factory:()=>Bf}),Bf="always";function KT(e,t){return[...t.path,e]}function By(e,t,n=Bf){zy(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),JT(e,t),ZT(e,t),YT(e,t),QT(e,t)}function Ty(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function QT(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function zy(e,t){let n=HT(e);t.validator!==null?e.setValidators(Iy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=BT(e);t.asyncValidator!==null?e.setAsyncValidators(Iy(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();Ty(t._rawValidators,o),Ty(t._rawAsyncValidators,o)}function JT(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&qy(e,t)})}function YT(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&qy(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function qy(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ZT(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function XT(e,t){e==null,zy(e,t)}function e0(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function t0(e){return Object.getPrototypeOf(e.constructor)===jf}function n0(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function r0(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===Oc?n=i:t0(i)?r=i:o=i}),o||r||n||null}var o0={provide:wo,useExisting:vt(()=>zf)},Vi=Promise.resolve(),zf=(()=>{class e extends wo{callSetDisabledState;get submitted(){return xe(this.submittedReactive)}_submitted=Pe(()=>this.submittedReactive());submittedReactive=re(!1);_directives=new Set;form;ngSubmit=new he;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new Rc({},Uf(n),$f(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Vi.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),By(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Vi.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Vi.then(()=>{let r=this._findContainer(n.path),o=new Rc({});XT(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Vi.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Vi.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),n0(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ff(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(G(Vf,10),G(Oy,10),G(Hf,8))};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Re("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Sn([o0]),at]})}return e})();function My(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function xy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var i0=class extends Ac{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super($y(n),Hy(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new xc(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){My(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){My(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){xy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var s0={provide:Hi,useExisting:vt(()=>qf)},Ay=Promise.resolve(),qf=(()=>{class e extends Hi{_changeDetectorRef;callSetDisabledState;control=new i0;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new he;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=r0(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),e0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){By(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Ay.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Qa(r);Ay.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?KT(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(G(wo,9),G(Vf,10),G(Oy,10),G(Nc,10),G(vi,8),G(Hf,8))};static \u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Sn([s0]),at,Zr]})}return e})();var Gy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var a0={provide:Nc,useExisting:vt(()=>Pc),multi:!0};function Wy(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function c0(e){return e.split(":")[0]}var Pc=(()=>{class e extends jf{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=_(sn).injector;destroyRef=_(Zt);cdr=_(vi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,La({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=Wy(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=c0(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Re("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Sn([a0]),at]})}return e})(),Ky=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Wy(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(G(ir),G(Xr),G(Pc,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),l0={provide:Nc,useExisting:vt(()=>Qy),multi:!0};function Ry(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function u0(e){return e.split(":")[0]}var Qy=(()=>{class e extends jf{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=u0(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Re("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Sn([l0]),at]})}return e})(),Jy=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Ry(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Ry(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(G(ir),G(Xr),G(Qy,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var d0=(()=>{class e{_validator=Cy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,features:[Zr]})}return e})();var f0={provide:Vf,useExisting:vt(()=>Gf),multi:!0};var Gf=(()=>{class e extends d0{required;inputName="required";normalizeInput=Qa;createValidator=n=>jT;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=tn(e)))(o||e)}})();static \u0275dir=Ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&qa("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Sn([f0]),at]})}return e})();var h0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=eo({type:e});static \u0275inj=zn({})}return e})();var Yy=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Hf,useValue:n.callSetDisabledState??Bf}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=eo({type:e});static \u0275inj=zn({imports:[h0]})}return e})();var Zy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var bo=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Bi=class extends bo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Eo=class extends bo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Co=class extends bo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Lc=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Lc||{});var zi=class{constructor(t,{headers:n={},customFetch:r,region:o=Lc.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Zy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ws(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:h}=r;h||(h=this.region);let g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(p["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(p["Content-Type"]="application/json",m=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?m=JSON.stringify(l):m=l;let v=u;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(W=>{throw new Bi(W)}),V=y.headers.get("x-relay-error");if(V&&V==="true")throw new Eo(y);if(!y.ok)throw new Co(y);let b=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield y.json():b==="application/octet-stream"||b==="application/pdf"?E=yield y.blob():b==="text/event-stream"?E=y:b==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Co||a instanceof Eo?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var e_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},g0=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){let s=null,a=null,c=null,l=i.status,u=i.statusText;if(i.ok){var d,p;if(n.method!=="HEAD"){var h;let y=yield i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let m=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;let m=yield i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(a=[],s=null,l=200,u="OK")}catch{i.status===404&&m===""?(l=204,u="No Content"):s={message:m}}if(s&&n.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new e_(s)}return{error:s,data:a,count:c,status:l,statusText:u}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="",c=i?.cause;if(c){var l,u,d,p;let g=(l=c?.message)!==null&&l!==void 0?l:"",m=(u=c?.code)!==null&&u!==void 0?u:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(p=c?.name)!==null&&p!==void 0?p:"Error"}: ${g}`,m&&(a+=` (${m})`),c?.stack&&(a+=`
${c.stack}`)}else{var h;a=(h=i?.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},m0=class extends g0{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},Xy=new RegExp("[,()]"),Io=class extends m0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},v0=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Io({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let i=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(i.length>0){let s=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Io({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Io({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Io({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Io({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},t_=class n_{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new v0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l,u=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",l=n):r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{c.searchParams.append(h,g)})):(a="POST",l=n);let p=new Headers(this.headers);return d?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Io({method:a,url:c,headers:p,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var Wf=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let o=r.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Kf=Wf;var r_="2.90.0";var o_=`realtime-js/${r_}`,Qf="1.0.0",i_="2.0.0",Jf=Qf;var qi=1e4,s_=1e3,a_=100,An=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(An||{}),ve=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(ve||{}),ft=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(ft||{}),Yf=(function(e){return e.websocket="websocket",e})(Yf||{}),gr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(gr||{});var Fc=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(h),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,n),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(h.byteLength+r.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(r),h.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+o));c=c+o;let u=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let p=t.slice(c,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var So=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ne=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(ne||{}),Xf=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=y0(s,e,t,o),i),{}):{}},y0=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?c_(i,s):Zf(s)},c_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return E0(t,n)}switch(e){case ne.bool:return _0(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return w0(t);case ne.json:case ne.jsonb:return b0(t);case ne.timestamp:return C0(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Zf(t);default:return Zf(t)}},Zf=e=>e,_0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},w0=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},b0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},E0=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>c_(t,a))}return e},C0=e=>typeof e=="string"?e.replace(" ","T"):e,jc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Do=class{constructor(t,n,r={},o=qi){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Gi=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Wi=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Wi||{}),cn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(cn||{});var Ki=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Do(this,ft.join,this.params,this.timeout),this.rejoinTimer=new So(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Gi(this),this.broadcastEndpointURL=jc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[Wi.PRESENCE]&&this.bindings[Wi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(cn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>f(this,[g],function*({postgres_changes:h}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(cn.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,V=[];for(let b=0;b<y;b++){let E=v[b],{filter:{event:W,schema:Mt,table:X,filter:ge}}=E,dn=h&&h[b];if(dn&&dn.event===W&&e.isFilterValueEqual(dn.schema,Mt)&&e.isFilterValueEqual(dn.table,X)&&e.isFilterValueEqual(dn.filter,ge))V.push(Object.assign(Object.assign({},E),{id:dn.id}));else{this.unsubscribe(),this.state=ve.errored,t?.(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,t&&t(cn.SUBSCRIBED);return}})).receive("error",h=>{this.state=ve.errored,t?.(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===ve.joined&&t===Wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>f(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(o,i){return f(this,arguments,function*(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");let a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return f(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);let l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Do(this,ft.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Do(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>a_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ft;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(h=>h.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,v,y,V,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let E=h.id,W=(g=h.filter)===null||g===void 0?void 0:g.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(W==="*"||W?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let E=(V=(y=h?.filter)===null||y===void 0?void 0:y.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return E==="*"||E===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:V,errors:b}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:V,new:{},old:{},errors:b}),this._getPayloadRecords(g))}h.callback(p,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Xf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Xf(t.columns,t.old_record)),n}};var eh=()=>{},Vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S0=[1e3,2e3,5e3,1e4],D0=1e4,T0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Qi=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qi,this.transport=null,this.heartbeatIntervalMs=Vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eh,this.ref=0,this.reconnectTimer=null,this.vsn=Jf,this.logger=eh,this.conn=null,this.sendBuffer=[],this.serializer=new Fc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yf.websocket}`,this.httpEndpoint=jc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return gr.Connecting;case An.open:return gr.Open;case An.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ki(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return f(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===An.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([T0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return f(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:o_};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(ft.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new So(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Vc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,l,u,d,p,h;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:qi,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Vc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:eh,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Jf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:g=>S0[g-1]||D0,this.vsn){case Qf:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case i_:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Ji=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M0(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}function x0(e){return f(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function A0(e){let t=e.fetchImpl??globalThis.fetch;return{request(c){return f(this,arguments,function*({method:r,path:o,query:i,body:s,headers:a}){let l=M0(e.baseUrl,o,i),u=yield x0(e.auth),d=yield t(l,{method:r,headers:w(w(w({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!d.ok){let m=h?g:void 0,v=m?.error;throw new Ji(v?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:d.status,headers:d.headers,data:g}})}}}function Uc(e){return e.join("")}var R0=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return f(this,null,function*(){let t=e?{parent:Uc(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return f(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`})})}loadNamespaceMetadata(e){return f(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`})).data.properties}})}namespaceExists(e){return f(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uc(e.namespace)}`}),!0}catch(t){if(t instanceof Ji&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Ji&&n.status===409)return;throw n}})}};function To(e){return e.join("")}var N0=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return f(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return f(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return f(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return f(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return f(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ji&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Ji&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},l_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=A0({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new R0(this.client,t),this.tableOps=new N0(this.client,t,this.accessDelegation)}listNamespaces(e){return f(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return f(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return f(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return f(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return f(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return f(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return f(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return f(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return f(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return f(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return f(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}};var $c=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var O0=class extends $c{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rh=class extends $c{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},sh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k0=()=>Response,oh=e=>{if(Array.isArray(e))return e.map(n=>oh(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=oh(r)}),t},P0=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},L0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function F0(e,t){if(Yi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0(e){var t=F0(e,"string");return Yi(t)=="symbol"?t:t+""}function V0(e,t,n){return(t=j0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(n),!0).forEach(function(r){V0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var th=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},U0=(e,t,n)=>f(null,null,function*(){e instanceof(yield k0())&&!n?.noResolveJson?e.json().then(r=>{let o=e.status||500,i=r?.statusCode||o+"";t(new O0(th(r),o,i))}).catch(r=>{t(new rh(th(r),r))}):t(new rh(th(e),e))}),$0=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(P0(r)?(o.headers=R({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),R(R({},o),n))};function Xi(e,t,n,r,o,i){return f(this,null,function*(){return new Promise((s,a)=>{e(n,$0(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>U0(c,a,r))})})}function Zi(e,t,n,r){return f(this,null,function*(){return Xi(e,"GET",t,n,r)})}function Dt(e,t,n,r,o){return f(this,null,function*(){return Xi(e,"POST",t,r,o,n)})}function ih(e,t,n,r,o){return f(this,null,function*(){return Xi(e,"PUT",t,r,o,n)})}function H0(e,t,n,r){return f(this,null,function*(){return Xi(e,"HEAD",t,R(R({},n),{},{noResolveJson:!0}),r)})}function ah(e,t,n,r,o){return f(this,null,function*(){return Xi(e,"DELETE",t,r,o,n)})}var B0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return f(this,null,function*(){var e=this;try{return{data:(yield e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}},h_;h_=Symbol.toStringTag;var z0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[h_]="BlobDownloadBuilder",this.promise=null}asStream(){return new B0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return f(this,null,function*(){var e=this;try{return{data:yield(yield e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(oe(t))return{data:null,error:t};throw t}})}},q0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},G0=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=sh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return f(this,null,function*(){var o=this;try{let i,s=R(R({},d_),r),a=R(R({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=R(R({},a),r.headers));let l=o._removeEmptyFolders(t),u=o._getFinalPath(l),d=yield(e=="PUT"?ih:Dt)(o.fetch,`${o.url}/object/${u}`,i,R({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return f(this,null,function*(){var o=this;let i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=R({upsert:d_.upsert},r),u=R(R({},o.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{data:{path:i,fullPath:(yield ih(o.fetch,a.toString(),c,{headers:u})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return f(this,null,function*(){var n=this;try{let r=n._getFinalPath(e),o=R({},n.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield Dt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new $c("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}update(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return f(this,null,function*(){var r=this;try{return{data:yield Dt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}copy(e,t,n){return f(this,null,function*(){var r=this;try{return{data:{path:(yield Dt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,n){return f(this,null,function*(){var r=this;try{let o=r._getFinalPath(e),i=yield Dt(r.fetch,`${r.url}/object/sign/${o}`,R({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,n){return f(this,null,function*(){var r=this;try{let o=yield Dt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>R(R({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",i=this._getFinalPath(e),s=()=>Zi(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new z0(s,this.shouldThrowOnError)}info(e){return f(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return{data:oh(yield Zi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}exists(e){return f(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return yield H0(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(oe(r)&&r instanceof rh){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}remove(e){return f(this,null,function*(){var t=this;try{return{data:yield ah(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}list(e,t,n){return f(this,null,function*(){var r=this;try{let o=R(R(R({},q0),t),{},{prefix:e||""});return{data:yield Dt(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}listV2(e,t){return f(this,null,function*(){var n=this;try{let r=R({},e);return{data:yield Dt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},p_="2.90.0",g_={"X-Client-Info":`storage-js/${p_}`},W0=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=R(R({},g_),t),this.fetch=sh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return f(this,null,function*(){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:yield Zi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Zi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}createBucket(n){return f(this,arguments,function*(e,t={public:!1}){var r=this;try{return{data:yield Dt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(oe(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return f(this,null,function*(){var n=this;try{return{data:yield ih(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Dt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield ah(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},K0=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},g_),t),this.fetch=sh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Dt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}listBuckets(e){return f(this,null,function*(){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:yield Zi(t.fetch,o,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield ah(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}from(e){var t=this;if(!L0(e))throw new $c("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new l_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>f(this,null,function*(){return t.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){let s=o[i];return typeof s!="function"?s:(...a)=>f(null,null,function*(){try{return{data:yield s.apply(o,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}},ch={"X-Client-Info":`storage-js/${p_}`,"Content-Type":"application/json"},m_=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function et(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var nh=class extends m_{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Q0=class extends m_{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var lh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var J0=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var f_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y0=(e,t,n)=>f(null,null,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{let s=i?.statusCode||i?.code||r+"";t(new nh(f_(i),r,s))}).catch(()=>{let i=r+"";t(new nh(o.statusText||`HTTP ${r} error`,r,i))});else{let i=r+"";t(new nh(o.statusText||`HTTP ${r} error`,r,i))}}else t(new Q0(f_(e),e))}),Z0=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(J0(r)?(o.headers=R({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,R(R({},o),n))};function X0(e,t,n,r,o,i){return f(this,null,function*(){return new Promise((s,a)=>{e(n,Z0(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>Y0(c,a,r))})})}function tt(e,t,n,r,o){return f(this,null,function*(){return X0(e,"POST",t,r,o,n)})}var eM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},ch),t),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return f(this,null,function*(){var t=this;try{return{data:(yield tt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:yield tt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listIndexes(e){return f(this,null,function*(){var t=this;try{return{data:yield tt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:(yield tt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}},tM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},ch),t),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return f(this,null,function*(){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield tt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listVectors(e){return f(this,null,function*(){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}queryVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield tt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteVectors(e){return f(this,null,function*(){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}},nM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=R(R({},ch),t),this.fetch=lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield tt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield tt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(){return f(this,arguments,function*(e={}){var t=this;try{return{data:yield tt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield tt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}},rM=class e extends nM{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new oM(this.url,this.headers,t,this.fetch)}createBucket(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"createBucket"),r=this;return n().call(r,t)})}getBucket(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"getBucket"),r=this;return n().call(r,t)})}listBuckets(){return f(this,arguments,function*(t={}){var n=()=>He(e.prototype,this,"listBuckets"),r=this;return n().call(r,t)})}deleteBucket(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"deleteBucket"),r=this;return n().call(r,t)})}},oM=class e extends eM{constructor(t,n,r,o){super(t,n,o),this.vectorBucketName=r}createIndex(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"createIndex"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return f(this,arguments,function*(t={}){var n=()=>He(e.prototype,this,"listIndexes"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"getIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}deleteIndex(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"deleteIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}index(t){return new iM(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},iM=class e extends tM{constructor(t,n,r,o,i){super(t,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"putVectors"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"getVectors"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return f(this,arguments,function*(t={}){var n=()=>He(e.prototype,this,"listVectors"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"queryVectors"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(t){return f(this,null,function*(){var n=()=>He(e.prototype,this,"deleteVectors"),r=this;return n().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},v_=class extends W0{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new G0(this.url,this.headers,e,this.fetch)}get vectors(){return new rM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K0(this.url+"/iceberg",this.headers,this.fetch)}};var Hc="2.90.0";var mr=30*1e3,Bc=3,zc=Bc*mr,y_="http://localhost:9999",__="supabase.auth.token";var w_={"X-Client-Info":`gotrue-js/${Hc}`};var es="X-Supabase-Api-Version",uh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E_=600*1e3;var Rn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var qc=class extends Rn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function C_(e){return C(e)&&e.name==="AuthApiError"}var ht=class extends Rn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Tt=class extends Rn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},Oe=class extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function I_(e){return C(e)&&e.name==="AuthSessionMissingError"}var ln=class extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},vr=class extends Tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},yr=class extends Tt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function S_(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}var ts=class extends Tt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Gc=class extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var Mo=class extends Tt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Wc(e){return C(e)&&e.name==="AuthRetryableFetchError"}var ns=class extends Tt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var _r=class extends Tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D_=` 	
\r=`.split(""),sM=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D_.length;t+=1)e[D_[t].charCodeAt(0)]=-2;for(let t=0;t<Kc.length;t+=1)e[Kc[t].charCodeAt(0)]=t;return e})();function T_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Kc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Kc[r]),t.queuedBits-=6}}function M_(e,t,n){let r=sM[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dh(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{lM(s,r,n)};for(let s=0;s<e.length;s+=1)M_(e.charCodeAt(s),o,i);return t.join("")}function aM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cM(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}aM(r,t)}}function lM(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Nn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)M_(e.charCodeAt(o),n,r);return new Uint8Array(t)}function x_(e){let t=[];return cM(e,n=>t.push(n)),new Uint8Array(t)}function un(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>T_(o,n,r)),T_(null,n,r),t.join("")}function A_(e){return Math.round(Date.now()/1e3)+e}function R_(){return Symbol("auth-callback")}var ye=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},Qc=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function N_(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Jc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),O_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",br=(e,t,n)=>f(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),On=(e,t)=>f(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ie=(e,t)=>f(null,null,function*(){yield e.removeItem(t)}),rs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};rs.promiseConstructor=Promise;function Yc(e){let t=e.split(".");if(t.length!==3)throw new _r("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!b_.test(t[r]))throw new _r("JWT not in base64url format");return{header:JSON.parse(dh(t[0])),payload:JSON.parse(dh(t[1])),signature:Nn(t[2]),raw:{header:t[0],payload:t[1]}}}function k_(e){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function P_(e,t){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function uM(e){return("0"+e.toString(16)).substr(-2)}function dM(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,uM).join("")}function fM(e){return f(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function hM(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield fM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Er(e,t,n=!1){return f(this,null,function*(){let r=dM(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield br(e,`${t}-code-verifier`,o);let i=yield hM(r);return[i,r===i?"plain":"s256"]})}var pM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L_(e){let t=e.headers.get(es);if(!t||!t.match(pM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function F_(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function j_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!gM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function V_(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function fh(e){return JSON.parse(JSON.stringify(e))}var Ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mM=[502,503,504];function U_(e){return f(this,null,function*(){var t;if(!O_(e))throw new Mo(Ir(e),0);if(mM.includes(e.status))throw new Mo(Ir(e),e.status);let n;try{n=yield e.json()}catch(i){throw new ht(Ir(i),i)}let r,o=L_(e);if(o&&o.getTime()>=uh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ns(Ir(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Oe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new ns(Ir(n),e.status,n.weak_password.reasons);throw new qc(Ir(n),e.status||500,r)})}var vM=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function x(e,t,n,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[es]||(i[es]=uh["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield yM(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function yM(e,t,n,r,o,i){return f(this,null,function*(){let s=vM(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new Mo(Ir(c),0)}if(a.ok||(yield U_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield U_(c)}})}function pt(e){var t;let n=null;_M(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=A_(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hh(e){let t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ht(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $_(e){return{data:e,error:null}}function H_(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Fn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function ph(e){return e}function _M(e){return e.access_token&&e.refresh_token&&e.expires_in}var Xc=["global","local","others"];var xo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(t,n=Xc[0]){if(Xc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xc.join(", ")}`);try{return yield x(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(C(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(t,n={}){try{return yield x(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(o){if(C(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return f(this,null,function*(){try{let{options:n}=t,r=Fn(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield x(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:H_,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ht})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return f(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield x(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ph});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(C(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return f(this,null,function*(){Cr(t);try{return yield x(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ht})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return f(this,null,function*(){Cr(t);try{return yield x(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return f(this,null,function*(){Cr(t);try{return yield x(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){Cr(t.userId);try{let{data:n,error:r}=yield x(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return f(this,null,function*(){Cr(t.userId),Cr(t.id);try{return{data:yield x(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return f(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ph});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(C(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return f(this,null,function*(){try{return yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return f(this,null,function*(){try{return yield x(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return f(this,null,function*(){try{return yield x(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}};function gh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Sr={debug:!!(globalThis&&Qc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},os=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},el=class extends os{};function mh(e,t,n){return f(this,null,function*(){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new el(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sr.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function B_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function z_(e){return parseInt(e,16)}function q_(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function G_(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let h=vh(e.address),g=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${h}

${m}`,y=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let V=`
Resources:`;for(let b of l){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);V+=`
- ${b}`}y+=V}return`${v}
${y}`}var ie=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Dr=class extends ie{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function W_({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(yh(s)){if(i.rp.id!==s)return new ie({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function K_({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(yh(r)){if(n.rpId!==r)return new ie({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var _h=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},wM=new _h;function J_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=Fn(e,["challenge","user","excludeCredentials"]),i=Nn(t).buffer,s=Object.assign(Object.assign({},n),{id:Nn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Nn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Y_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Fn(e,["challenge","allowCredentials"]),o=Nn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Nn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Z_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:un(new Uint8Array(e.response.attestationObject)),clientDataJSON:un(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function X_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:un(new Uint8Array(o.authenticatorData)),clientDataJSON:un(new Uint8Array(o.clientDataJSON)),signature:un(new Uint8Array(o.signature)),userHandle:o.userHandle?un(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yh(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Q_(){var e,t;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function bM(e){return f(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dr("Browser returned unexpected credential type",t)}:{data:null,error:new Dr("Empty credential response",t)}}catch(t){return{data:null,error:W_({error:t,options:e})}}})}function EM(e){return f(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dr("Browser returned unexpected credential type",t)}:{data:null,error:new Dr("Empty credential response",t)}}catch(t){return{data:null,error:K_({error:t,options:e})}}})}var CM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tl(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=tl(a,s):r[i]=tl(s)}else r[i]=s}return r}function SM(e,t){return tl(CM,e,t||{})}function DM(e,t){return tl(IM,e,t||{})}var nl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return f(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:l};let u=o??wM.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=SM(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield bM({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let d=DM(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield EM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new ht("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return f(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Rn("rpId is required for WebAuthn authentication")};try{if(!Q_())return{data:null,error:new ht("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new ht("Unexpected error in authenticate",c)}}})}_register(s,a){return f(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Rn("rpId is required for WebAuthn registration")};try{if(!Q_())return{data:null,error:new ht("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new ht("Unexpected error in register",c)}}})}};B_();var TM={url:y_,storageKey:__,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};function ew(e,t,n){return f(this,null,function*(){return yield n()})}var Ao={},MM=(()=>{class e{get jwks(){var n,r;return(r=(n=Ao[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ao[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},TM),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ye()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jc(s.fetch),this.lock=s.lock||ew,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ye()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=mh:this.lock=ew,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Qc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gh(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r={},o="none";if(ye()&&(r=N_(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce")),ye()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),S_(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new ht("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,o,i;try{let s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:pt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return f(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:h}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Er(this.storage,this.storageKey)),s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:m},xform:pt})}else if("phone"in n){let{phone:d,password:p,options:h}=n;s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:pt})}else throw new vr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return yield Ie(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hh})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hh})}else throw new vr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new ln;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return f(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,h;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:y,statement:V,options:b}=n,E;if(ye())if(typeof y=="object")E=y;else{let Bt=window;if("ethereum"in Bt&&typeof Bt.ethereum=="object"&&"request"in Bt.ethereum&&typeof Bt.ethereum.request=="function")E=Bt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}let W=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),Mt=yield E.request({method:"eth_requestAccounts"}).then(Bt=>Bt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Mt||Mt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let X=vh(Mt[0]),ge=(o=b?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ge){let Bt=yield E.request({method:"eth_chainId"});ge=z_(Bt)}let dn={domain:W.host,address:X,statement:V,uri:W.href,version:"1",chainId:ge,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=G_(dn),m=yield E.request({method:"personal_sign",params:[q_(g),X]})}try{let{data:v,error:y}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:pt});if(y)throw y;if(!v||!v.session||!v.user){let V=new ln;return this._returnResult({data:{user:null,session:null},error:V})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(C(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(n){return f(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,h,g;let m,v;if("message"in n)m=n.message,v=n.signature;else{let{chain:y,wallet:V,statement:b,options:E}=n,W;if(ye())if(typeof V=="object")W=V;else{let X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))W=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=V}let Mt=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in W&&W.signIn){let X=yield W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:Mt.host,uri:Mt.href}),b?{statement:b}:null)),ge;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ge=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ge=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ge&&"signature"in ge&&(typeof ge.signedMessage=="string"||ge.signedMessage instanceof Uint8Array)&&ge.signature instanceof Uint8Array)m=typeof ge.signedMessage=="string"?ge.signedMessage:new TextDecoder().decode(ge.signedMessage),v=ge.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${Mt.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${Mt.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(ge=>`- ${ge}`)]:[]].join(`
`);let X=yield W.signMessage(new TextEncoder().encode(m),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=X}}try{let{data:y,error:V}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:un(v)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:pt});if(V)throw V;if(!y||!y.session||!y.user){let b=new ln;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:V})}catch(y){if(C(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield On(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Gc;let{data:s,error:a}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:pt});if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new ln;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Er(this.storage,this.storageKey));let{error:p}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new vr("You must provide either an email or phone number.")}catch(c){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return f(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield x(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithSSO(n){return f(this,null,function*(){var r,o,i,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield Er(this.storage,this.storageKey));let u=yield x(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:$_});return!((s=u.data)===null||s===void 0)&&s.url&&ye()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Oe;let{error:i}=yield x(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})}))}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new vr("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<zc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield On(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Zc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=V_(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return f(this,null,function*(){try{return n?yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ht}):yield this._useSession(r=>f(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ht})}))}catch(r){if(C(r))return I_(r)&&(yield this._removeSession(),yield Ie(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(o){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Oe;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield Er(this.storage,this.storageKey));let{data:d,error:p}=yield x(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ht});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(i){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null},error:i});throw i}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Oe;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Yc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Oe;let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!ye())throw new yr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new yr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ts("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ts("No code detected.");let{data:b,error:E}=yield this._exchangeCodeForSession(n.code);if(E)throw E;let W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new yr("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),h=d+p;l&&(h=parseInt(l));let g=h-d;g*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=h-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let V={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(o){if(C(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}})}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield On(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(C_(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield Ie(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=R_(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Er(this.storage,this.storageKey,!0));try{return yield x(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return f(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>f(this,null,function*(){var a,c,l,u,d;let{data:p,error:h}=s;if(h)throw h;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield x(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ye()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(C(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}})}linkIdentityIdToken(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pt}),{data:h,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ln}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(yield Ie(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}))})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield x(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield P_(i=>f(this,null,function*(){return i>0&&(yield k_(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield x(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:pt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Wc(s)&&Date.now()+a-o<mr})}catch(o){if(this._debug(r,"error",o),C(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ye()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield On(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield br(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Zc()}else if(i&&!i.user&&!i.user){let a=yield On(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Ie(this.storage,this.storageKey+"-user"),yield br(this.storage,this.storageKey,i)):i.user=Zc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${zc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Wc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,o;if(!n)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rs;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Oe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),C(s)){let a={data:null,error:s};return Wc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ie(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield br(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=fh(i);yield br(this.storage,this.storageKey,s)}else{let i=fh(r);yield br(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ie(this.storage,this.storageKey),yield Ie(this.storage,this.storageKey+"-code-verifier"),yield Ie(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ie(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mr}ms, refresh threshold is ${Bc} ticks`),i<=Bc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof os)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Er(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):yield x(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield x(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Z_(n.webauthn.credential_response):X_(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(this.lockAcquireTimeout,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:J_(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Y_(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){var n;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var n,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Yc(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?yield x(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oe});let a=yield x(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}_denyAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oe});let a=yield x(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}_listOAuthGrants(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?yield x(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(yield x(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(o){return f(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+E_>s)return i;let{data:a,error:c}=yield x(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return f(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Yc(i);r?.allowExpired||F_(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let p=j_(s.alg),h=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,x_(`${l}.${u}`))))throw new _r("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(C(i))return this._returnResult({data:null,error:i});throw i}})}}return e.nextInstanceID={},e})(),wh=MM;var xM=wh,bh=xM;var AM="2.90.0",is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";var RM={"X-Client-Info":`supabase-js-${is}/${AM}`},NM={headers:RM},OM={schema:"public"},kM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PM={};function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function LM(e,t){if(ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FM(e){var t=LM(e,"string");return ss(t)=="symbol"?t:t+""}function jM(e,t,n){return(t=FM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(r){jM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UM=()=>Headers,$M=(e,t,n)=>{let r=VM(n),o=UM();return(i,s)=>f(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,ae(ae({},s),{},{headers:l}))})};function HM(e){return e.endsWith("/")?e:e+"/"}function BM(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,p={db:ae(ae({},c),o),auth:ae(ae({},l),i),realtime:ae(ae({},u),s),storage:{},global:ae(ae(ae({},d),a),{},{headers:ae(ae({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function zM(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qM=class extends bh{constructor(e){super(e)}},GM=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;let i=zM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);let s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:OM,realtime:PM,auth:ae(ae({},kM),{},{storageKey:s}),global:NM},c=BM(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=$M(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new t_(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new v_(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new zi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e=this,t,n;if(e.accessToken)return yield e.accessToken();let{data:r}=yield e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qM({url:this.authUrl.href,headers:ae(ae({},p),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Qi(this.realtimeUrl.href,ae(ae({},e),{},{params:ae(ae({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},nw=(e,t,n)=>new GM(e,t,n);function WM(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}WM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Eh={production:!1,supabaseUrl:"https://rwfwjeqablihlrcxekxr.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ3ZndqZXFhYmxpaGxyY3hla3hyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NDQ5MzIsImV4cCI6MjA4MzQyMDkzMn0.fNZUvAt1DG_LCsuV2E5l0jabz9KMR80iCwspHsj4dA4"};var rw=(()=>{class e{constructor(){this.supabase=nw(Eh.supabaseUrl,Eh.supabaseKey)}getClient(){return this.supabase}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ro=(()=>{class e{constructor(n){this.supabaseService=n,this.tasksSignal=re([]),this.tasks=this.tasksSignal.asReadonly(),this.pendingTasks=Pe(()=>this.tasksSignal().filter(r=>r.status==="pending")),this.inProgressTasks=Pe(()=>this.tasksSignal().filter(r=>r.status==="in_progress")),this.completedTasks=Pe(()=>this.tasksSignal().filter(r=>r.status==="completed")),this.loadTasks()}loadTasks(){return f(this,null,function*(){try{let{data:n,error:r}=yield this.supabaseService.getClient().from("tasks").select("*").order("created_at",{ascending:!1});if(r)throw r;this.tasksSignal.set(n)}catch(n){console.error("Error loading tasks:",n)}})}createTask(n){return f(this,null,function*(){try{let{data:r,error:o}=yield this.supabaseService.getClient().from("tasks").insert(n).select().single();if(o)throw o;return this.tasksSignal.update(i=>[r,...i]),r}catch(r){return console.error("Error creating task:",r),null}})}updateTask(n,r){return f(this,null,function*(){try{let{data:o,error:i}=yield this.supabaseService.getClient().from("tasks").update(U(w({},r),{updated_at:new Date().toISOString()})).eq("id",n).select().single();if(i)throw i;return this.tasksSignal.update(s=>s.map(a=>a.id===n?o:a)),o}catch(o){return console.error("Error updating task:",o),null}})}deleteTask(n){return f(this,null,function*(){try{let{error:r}=yield this.supabaseService.getClient().from("tasks").delete().eq("id",n);if(r)throw r;return this.tasksSignal.update(o=>o.filter(i=>i.id!==n)),!0}catch(r){return console.error("Error deleting task:",r),!1}})}static{this.\u0275fac=function(r){return new(r||e)(F(rw))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function QM(e,t){if(e&1){let n=no();M(0,"button",3),Re("click",function(){Ge(n);let o=pe();return We(o.toggleForm())}),M(1,"span",4),S(2,"\u2728"),A(),S(3," Create Magic Task "),A()}}function JM(e,t){if(e&1){let n=no();M(0,"form",5),Re("ngSubmit",function(){Ge(n);let o=pe();return We(o.onSubmit())}),M(1,"div",6)(2,"h3"),S(3,"\u{1F680} New Mission"),A(),M(4,"button",7),Re("click",function(){Ge(n);let o=pe();return We(o.toggleForm())}),S(5,"\u2715"),A()(),M(6,"div",8)(7,"label",9),S(8,"Task Title *"),A(),M(9,"input",10),In("ngModelChange",function(o){Ge(n);let i=pe();return cr(i.title,o)||(i.title=o),We(o)}),A()(),M(10,"div",8)(11,"label",11),S(12,"Description"),A(),M(13,"textarea",12),In("ngModelChange",function(o){Ge(n);let i=pe();return cr(i.description,o)||(i.description=o),We(o)}),A()(),M(14,"div",13)(15,"div",8)(16,"label",14),S(17,"Priority"),A(),M(18,"select",15),In("ngModelChange",function(o){Ge(n);let i=pe();return cr(i.priority,o)||(i.priority=o),We(o)}),M(19,"option",16),S(20,"Low"),A(),M(21,"option",17),S(22,"Medium"),A(),M(23,"option",18),S(24,"High"),A()()(),M(25,"div",8)(26,"label",19),S(27,"Status"),A(),M(28,"select",20),In("ngModelChange",function(o){Ge(n);let i=pe();return cr(i.status,o)||(i.status=o),We(o)}),M(29,"option",21),S(30,"Pending"),A(),M(31,"option",22),S(32,"In Progress"),A(),M(33,"option",23),S(34,"Completed"),A()()()(),M(35,"div",8)(36,"label",24),S(37,"Due Date"),A(),M(38,"input",25),In("ngModelChange",function(o){Ge(n);let i=pe();return cr(i.dueDate,o)||(i.dueDate=o),We(o)}),A()(),M(39,"div",26)(40,"button",27),Re("click",function(){Ge(n);let o=pe();return We(o.resetForm())}),S(41," Cancel "),A(),M(42,"button",28),S(43),A()()()}if(e&2){let n=pe();j(9),Cn("ngModel",n.title),j(4),Cn("ngModel",n.description),j(5),Cn("ngModel",n.priority),j(10),Cn("ngModel",n.status),j(10),Cn("ngModel",n.dueDate),j(4),to("disabled",!n.title||n.isSubmitting()),j(),Ke(" ",n.isSubmitting()?"Creating...":"Create Task"," ")}}var ow=(()=>{class e{constructor(n){this.taskService=n,this.showForm=re(!1),this.isSubmitting=re(!1),this.title="",this.description="",this.status="pending",this.priority="medium",this.dueDate=""}toggleForm(){this.showForm.update(n=>!n),this.showForm()||this.resetForm()}onSubmit(){return f(this,null,function*(){if(!this.title||this.isSubmitting())return;this.isSubmitting.set(!0);let n={title:this.title,description:this.description,status:this.status,priority:this.priority,due_date:this.dueDate?new Date(this.dueDate).toISOString():null};(yield this.taskService.createTask(n))&&this.resetForm(),this.isSubmitting.set(!1)})}resetForm(){this.title="",this.description="",this.status="pending",this.priority="medium",this.dueDate="",this.showForm.set(!1)}static{this.\u0275fac=function(r){return new(r||e)(G(Ro))}}static{this.\u0275cmp=on({type:e,selectors:[["app-task-form"]],decls:3,vars:2,consts:[[1,"form-container"],[1,"add-task-btn"],[1,"task-form"],[1,"add-task-btn",3,"click"],[1,"plus-icon"],[1,"task-form",3,"ngSubmit"],[1,"form-header"],["type","button",1,"close-btn",3,"click"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","placeholder","Enter task title","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Enter task description","rows","3",3,"ngModelChange","ngModel"],[1,"form-row"],["for","priority"],["id","priority","name","priority",3,"ngModelChange","ngModel"],["value","low"],["value","medium"],["value","high"],["for","status"],["id","status","name","status",3,"ngModelChange","ngModel"],["value","pending"],["value","in_progress"],["value","completed"],["for","dueDate"],["type","date","id","dueDate","name","dueDate",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"submit-btn",3,"disabled"]],template:function(r,o){r&1&&(M(0,"div",0),jt(1,QM,4,0,"button",1),jt(2,JM,44,7,"form",2),A()),r&2&&(j(),Vt(o.showForm()?-1:1),j(),Vt(o.showForm()?2:-1))},dependencies:[Yy,Gy,Ky,Jy,Oc,Pc,Vy,Uy,Gf,qf,zf],styles:[".form-container[_ngcontent-%COMP%]{margin-bottom:40px}.add-task-btn[_ngcontent-%COMP%]{width:100%;padding:20px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);background-size:200% auto;color:#fff;border:none;border-radius:20px;font-size:18px;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:12px;transition:all .4s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 10px 20px #6366f14d;text-transform:uppercase;letter-spacing:1px}.add-task-btn[_ngcontent-%COMP%]:hover{background-position:right center;transform:translateY(-5px) scale(1.02);box-shadow:0 15px 30px #6366f166}.plus-icon[_ngcontent-%COMP%]{font-size:24px}.task-form[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:24px;padding:32px;box-shadow:0 20px 50px #0000001a;animation:_ngcontent-%COMP%_zoomIn .4s cubic-bezier(.34,1.56,.64,1);border:1px solid rgba(255,255,255,.5)}@keyframes _ngcontent-%COMP%_zoomIn{0%{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1e293b;font-size:24px;font-weight:800;letter-spacing:-.5px}.close-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:none;color:#64748b;cursor:pointer;width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#ef4444;transform:rotate(90deg)}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#475569;font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border:2px solid #e2e8f0;border-radius:14px;font-size:15px;transition:all .3s;font-family:inherit;background:#fff;color:#1e293b}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 4px #6366f11a;background:#fff}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:32px}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{flex:1;padding:16px;border:none;border-radius:16px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s}.cancel-btn[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.cancel-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#4f46e5);color:#fff;box-shadow:0 4px 12px #6366f14d}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #6366f166}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})();function YM(e,t){if(e&1){let n=no();ue(0,"button",20),oo("click",function(){Ge(n);let o=pe();return We(o.toggleCollapse())}),S(1),Ae()}if(e&2){let n=pe();ro("title",n.isCollapsed()?"Show Details":"Hide Details"),j(),Ke(" ",n.isCollapsed()?"\u{1F4C2}":"\u{1F4D6}"," ")}}function ZM(e,t){if(e&1&&(ue(0,"p",11),S(1),Ae()),e&2){let n=pe();j(),Ke(" ",n.task().description," ")}}function XM(e,t){if(e&1&&(ue(0,"div",19)(1,"span",21),S(2,"\u{1F4C5}"),Ae(),ue(3,"div",22)(4,"span",14),S(5,"Due Date"),Ae(),ue(6,"span",23),S(7),Ae()()()),e&2){let n=pe();j(7),ct(n.formatDate(n.task().due_date))}}var iw=(()=>{class e{set taskInput(n){this.task.set(n)}constructor(n){this.taskService=n,this.task=re({}),this.isUpdating=re(!1),this.isDeleting=re(!1),this.isCollapsed=re(!0)}toggleCollapse(){this.isCollapsed.update(n=>!n)}onStatusChange(n){return f(this,null,function*(){let o=n.target.value;!this.task().id||this.isUpdating()||(this.isUpdating.set(!0),yield this.taskService.updateTask(this.task().id,{status:o}),this.isUpdating.set(!1))})}onDelete(){return f(this,null,function*(){!this.task().id||this.isDeleting()||confirm("Are you sure you want to delete this task?")&&(this.isDeleting.set(!0),yield this.taskService.deleteTask(this.task().id),this.isDeleting.set(!1))})}formatDate(n){if(!n)return"No due date";try{let r=new Date(n);return isNaN(r.getTime())?"Invalid date":r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Invalid date"}}static{this.\u0275fac=function(r){return new(r||e)(G(Ro))}}static{this.\u0275cmp=on({type:e,selectors:[["app-task-card"]],inputs:{taskInput:"taskInput"},decls:27,vars:17,consts:[[1,"task-card"],[1,"task-header"],[1,"task-title-section"],[1,"status-indicator"],[1,"task-title"],[1,"priority-badge"],[1,"actions"],[1,"collapse-btn",3,"title"],["title","Delete task",1,"delete-btn",3,"click","disabled"],[1,"delete-icon"],[1,"collapsible-content"],[1,"task-description"],[1,"task-footer"],[1,"status-picker"],[1,"footer-label"],[1,"status-select",3,"change","value","disabled"],["value","pending"],["value","in_progress"],["value","completed"],[1,"due-date"],[1,"collapse-btn",3,"click","title"],[1,"date-icon"],[1,"date-info"],[1,"date-value"]],template:function(r,o){r&1&&(ue(0,"div",0)(1,"div",1)(2,"div",2),Ga(3,"div",3),ue(4,"h3",4),S(5),Ae(),ue(6,"span",5),S(7),Ae()(),ue(8,"div",6),jt(9,YM,2,2,"button",7),ue(10,"button",8),oo("click",function(){return o.onDelete()}),ue(11,"span",9),S(12),Ae()()()(),ue(13,"div",10),jt(14,ZM,2,1,"p",11),ue(15,"div",12)(16,"div",13)(17,"label",14),S(18,"Status"),Ae(),ue(19,"select",15),oo("change",function(s){return o.onStatusChange(s)}),ue(20,"option",16),S(21,"Pending"),Ae(),ue(22,"option",17),S(23,"In Progress"),Ae(),ue(24,"option",18),S(25,"Completed"),Ae()()(),jt(26,XM,8,1,"div",19),Ae()()()),r&2&&(Wa("status-"+o.task().status),Ze("expanded",!o.isCollapsed()),j(5),ct(o.task().title),j(),Wa("priority-"+o.task().priority),j(),Ke(" ",o.task().priority," "),j(2),Vt(o.task().description?9:-1),j(),ro("disabled",o.isDeleting()),j(2),ct(o.isDeleting()?"\u231B":"\u{1F5D1}\uFE0F"),j(),Ze("show",!o.isCollapsed()),j(),Vt(o.task().description?14:-1),j(5),ro("value",o.task().status)("disabled",o.isUpdating()),j(7),Vt(o.task().due_date?26:-1))},styles:[".task-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:24px;box-shadow:0 4px 20px #0000000d;transition:all .4s cubic-bezier(.175,.885,.32,1.275);position:relative;overflow:hidden;border:1px solid #f1f5f9;animation:_ngcontent-%COMP%_slideInUp .5s ease backwards}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 30px #0000001a;transform:translateY(-8px)}.collapsible-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:all .5s cubic-bezier(0,1,0,1);opacity:0}.collapsible-content.show[_ngcontent-%COMP%]{max-height:1000px;transition:all .5s cubic-bezier(1,0,1,0);opacity:1;padding-top:10px}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.collapse-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:none;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:10px;transition:all .2s;font-size:18px}.collapse-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;transform:scale(1.1)}.status-pending[_ngcontent-%COMP%]{border-left:6px solid #f59e0b}.status-in_progress[_ngcontent-%COMP%]{border-left:6px solid #8b5cf6}.status-completed[_ngcontent-%COMP%]{border-left:6px solid #10b981;background:#f8fafc}.status-completed[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#94a3b8}.status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-right:8px}.status-pending[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background:#f59e0b;box-shadow:0 0 10px #f59e0b66}.status-in_progress[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background:#8b5cf6;box-shadow:0 0 10px #8b5cf666;animation:_ngcontent-%COMP%_pulse 2s infinite}.status-completed[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{background:#10b981}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}to{transform:scale(1);opacity:1}}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.task-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap;flex:1}.task-title[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:700;color:#1e293b;letter-spacing:-.5px}.priority-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:11px;font-weight:800;text-transform:uppercase;letter-spacing:.5px}.priority-high[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444}.priority-medium[_ngcontent-%COMP%]{background:#fef3c7;color:#f59e0b}.priority-low[_ngcontent-%COMP%]{background:#dcfce7;color:#10b981}.delete-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:none;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:10px;transition:all .2s;margin-left:12px}.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2;transform:rotate(15deg)}.delete-icon[_ngcontent-%COMP%]{font-size:18px}.task-description[_ngcontent-%COMP%]{color:#64748b;margin:0 0 20px;line-height:1.6;font-size:15px}.task-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-top:16px;border-top:1px dashed #e2e8f0}.footer-label[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:700;color:#94a3b8;text-transform:uppercase;margin-bottom:4px}.status-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:10px;background:#f8fafc;color:#475569;font-size:13px;font-weight:600;cursor:pointer;outline:none;transition:all .2s}.status-select[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#6366f1;background:#fff}.due-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-align:right}.date-icon[_ngcontent-%COMP%]{font-size:24px}.date-value[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#475569}"]})}}return e})();function ex(e,t){if(e&1&&En(0,"app-task-card",18),e&2){let n=t.$implicit;to("taskInput",n)}}function tx(e,t){if(e&1&&(M(0,"div",16),Ud(1,ex,1,1,"app-task-card",18,jd().trackByTaskId,!0),A()),e&2){let n=pe();j(),$d(n.filteredTasks())}}function nx(e,t){if(e&1&&(M(0,"div",17)(1,"div",19),S(2,"\u{1F4DD}"),A(),M(3,"h3"),S(4,"No tasks found"),A(),M(5,"p"),S(6),A()()),e&2){let n=pe();j(6),ct(n.getEmptyMessage())}}var sw=(()=>{class e{constructor(n){this.taskService=n,this.activeFilter=re("all"),this.tasks=this.taskService.tasks,this.pendingTasks=this.taskService.pendingTasks,this.inProgressTasks=this.taskService.inProgressTasks,this.completedTasks=this.taskService.completedTasks,this.totalTasks=Pe(()=>this.tasks().length),this.pendingCount=Pe(()=>this.pendingTasks().length),this.inProgressCount=Pe(()=>this.inProgressTasks().length),this.completedCount=Pe(()=>this.completedTasks().length),this.filteredTasks=Pe(()=>{switch(this.activeFilter()){case"pending":return this.pendingTasks();case"in_progress":return this.inProgressTasks();case"completed":return this.completedTasks();default:return this.tasks()}})}setFilter(n){this.activeFilter.set(n)}getEmptyMessage(){switch(this.activeFilter()){case"pending":return"No pending tasks. Great job!";case"in_progress":return"No tasks in progress. Start working on something!";case"completed":return"No completed tasks yet. Keep going!";default:return"Create your first task to get started!"}}trackByTaskId(n,r){return r.id}static{this.\u0275fac=function(r){return new(r||e)(G(Ro))}}static{this.\u0275cmp=on({type:e,selectors:[["app-root"]],decls:63,vars:17,consts:[[1,"app-container"],[1,"circles"],[1,"app-header"],[1,"subtitle"],[1,"main-content"],[1,"stats-container"],[1,"stat-card","total"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","pending"],[1,"stat-card","progress"],[1,"stat-card","completed"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"tasks-grid"],[1,"no-tasks"],[3,"taskInput"],[1,"no-tasks-icon"]],template:function(r,o){r&1&&(M(0,"div",0)(1,"div",1),En(2,"li")(3,"li")(4,"li")(5,"li")(6,"li")(7,"li")(8,"li")(9,"li")(10,"li")(11,"li"),A(),M(12,"header",2)(13,"h1"),S(14,"\u{1F4CB} Task Manager"),A(),M(15,"p",3),S(16,"Organize your tasks efficiently"),A()(),M(17,"main",4),En(18,"app-task-form"),M(19,"div",5)(20,"div",6)(21,"div",7),S(22,"\u{1F4CA}"),A(),M(23,"div",8)(24,"div",9),S(25),A(),M(26,"div",10),S(27,"Total Tasks"),A()()(),M(28,"div",11)(29,"div",7),S(30,"\u23F3"),A(),M(31,"div",8)(32,"div",9),S(33),A(),M(34,"div",10),S(35,"Pending"),A()()(),M(36,"div",12)(37,"div",7),S(38,"\u{1F680}"),A(),M(39,"div",8)(40,"div",9),S(41),A(),M(42,"div",10),S(43,"In Progress"),A()()(),M(44,"div",13)(45,"div",7),S(46,"\u2705"),A(),M(47,"div",8)(48,"div",9),S(49),A(),M(50,"div",10),S(51,"Completed"),A()()()(),M(52,"div",14)(53,"button",15),Re("click",function(){return o.setFilter("all")}),S(54),A(),M(55,"button",15),Re("click",function(){return o.setFilter("pending")}),S(56),A(),M(57,"button",15),Re("click",function(){return o.setFilter("in_progress")}),S(58),A(),M(59,"button",15),Re("click",function(){return o.setFilter("completed")}),S(60),A()(),jt(61,tx,3,0,"div",16)(62,nx,7,1,"div",17),A()()),r&2&&(j(25),ct(o.totalTasks()),j(8),ct(o.pendingCount()),j(8),ct(o.inProgressCount()),j(8),ct(o.completedCount()),j(4),Ze("active",o.activeFilter()==="all"),j(),Ke(" All (",o.totalTasks(),") "),j(),Ze("active",o.activeFilter()==="pending"),j(),Ke(" Pending (",o.pendingCount(),") "),j(),Ze("active",o.activeFilter()==="in_progress"),j(),Ke(" In Progress (",o.inProgressCount(),") "),j(),Ze("active",o.activeFilter()==="completed"),j(),Ke(" Completed (",o.completedCount(),") "),j(),Vt(o.filteredTasks().length>0?61:62))},dependencies:[ow,iw],styles:[".app-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:40px 24px;overflow:hidden}.circles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:0;pointer-events:none}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;display:block;list-style:none;width:20px;height:20px;background:#fff3;animation:_ngcontent-%COMP%_animate 25s linear infinite;bottom:-150px;border-radius:50%}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:25%;width:80px;height:80px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:10%;width:20px;height:20px;animation-delay:2s;animation-duration:12s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:70%;width:20px;height:20px;animation-delay:4s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-delay:0s;animation-duration:18s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:65%;width:20px;height:20px;animation-delay:0s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:75%;width:110px;height:110px;animation-delay:3s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:35%;width:150px;height:150px;animation-delay:7s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:50%;width:25px;height:25px;animation-delay:15s;animation-duration:45s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:20%;width:15px;height:15px;animation-delay:2s;animation-duration:35s}.circles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:85%;width:150px;height:150px;animation-delay:0s;animation-duration:11s}@keyframes _ngcontent-%COMP%_animate{0%{transform:translateY(0) rotate(0);opacity:1;border-radius:0}to{transform:translateY(-1000px) rotate(720deg);opacity:0;border-radius:50%}}.app-header[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;color:#fff;margin-bottom:40px}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:56px;margin:0 0 12px;font-weight:800;letter-spacing:-1px;text-shadow:0 4px 12px rgba(0,0,0,.2)}.subtitle[_ngcontent-%COMP%]{font-size:20px;opacity:.9;margin:0;font-weight:400}.main-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:1200px;margin:0 auto}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:24px;display:flex;align-items:center;gap:20px;box-shadow:0 8px 32px #0000001a;transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.2)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 12px 40px #00000026}.stat-icon[_ngcontent-%COMP%]{font-size:40px;width:64px;height:64px;display:flex;align-items:center;justify-content:center;border-radius:16px;background:#fff;box-shadow:0 4px 12px #0000000d}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#6366f1}.stat-card.pending[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#f59e0b}.stat-card.progress[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#8b5cf6}.stat-card.completed[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#10b981}.stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:800;line-height:1;margin-bottom:4px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:32px;flex-wrap:wrap;background:#fff3;padding:8px;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.filter-tab[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:12px;background:transparent;color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s}.filter-tab[_ngcontent-%COMP%]:hover{background:#ffffff1a}.filter-tab.active[_ngcontent-%COMP%]{background:#fff;color:#6366f1;box-shadow:0 4px 12px #0000001a}.tasks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;animation:fadeIn .5s ease}.no-tasks[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.no-tasks-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;animation:_ngcontent-%COMP%_bounce 2s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.no-tasks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;margin:0 0 8px;font-size:24px}.no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;font-size:16px}@media(max-width:768px){.app-container[_ngcontent-%COMP%]{padding:16px}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.subtitle[_ngcontent-%COMP%]{font-size:16px}.tasks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.filter-tabs[_ngcontent-%COMP%]{flex-direction:column}.filter-tab[_ngcontent-%COMP%]{width:100%}.stats-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}}return e})();ef(sw,Ey).catch(e=>console.error(e));
